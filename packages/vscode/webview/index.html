<!doctype html><html><head><meta charset="utf8"><meta name="viewport" content="width=device-width"><title>pbts</title><script>document.documentElement.classList.add('dark');</script><script>const darkModeMediaQuery = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)');
		darkModeMediaQuery.addListener(() => {
			document.documentElement.classList.add('dark');;
    });</script><script type="module" crossorigin>var se=Object.defineProperty;var oe=(s,e,r)=>e in s?se(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var ne=(s,e,r)=>(oe(s,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))f(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const t of i.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&f(t)}).observe(document,{childList:!0,subtree:!0});function r(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function f(l){if(l.ep)return;l.ep=!0;const i=r(l);fetch(l.href,i)}})();function noop$2(){}function run(s){return s()}function blank_object(){return Object.create(null)}function run_all(s){s.forEach(run)}function is_function(s){return typeof s=="function"}function safe_not_equal(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function is_empty(s){return Object.keys(s).length===0}function append(s,e){s.appendChild(e)}function insert(s,e,r){s.insertBefore(e,r||null)}function detach(s){s.parentNode&&s.parentNode.removeChild(s)}function destroy_each(s,e){for(let r=0;r<s.length;r+=1)s[r]&&s[r].d(e)}function element(s){return document.createElement(s)}function text(s){return document.createTextNode(s)}function space(){return text(" ")}function listen(s,e,r,f){return s.addEventListener(e,r,f),()=>s.removeEventListener(e,r,f)}function attr(s,e,r){r==null?s.removeAttribute(e):s.getAttribute(e)!==r&&s.setAttribute(e,r)}function children(s){return Array.from(s.childNodes)}function set_data(s,e){e=""+e,s.data!==e&&(s.data=e)}function set_input_value(s,e){s.value=e??""}function set_style(s,e,r,f){r==null?s.style.removeProperty(e):s.style.setProperty(e,r,f?"important":"")}function select_option(s,e,r){for(let f=0;f<s.options.length;f+=1){const l=s.options[f];if(l.__value===e){l.selected=!0;return}}(!r||e!==void 0)&&(s.selectedIndex=-1)}function select_value(s){const e=s.querySelector(":checked");return e&&e.__value}function custom_event(s,e,{bubbles:r=!1,cancelable:f=!1}={}){return new CustomEvent(s,{detail:e,bubbles:r,cancelable:f})}let current_component;function set_current_component(s){current_component=s}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(s){get_current_component().$$.on_mount.push(s)}function createEventDispatcher(){const s=get_current_component();return(e,r,{cancelable:f=!1}={})=>{const l=s.$$.callbacks[e];if(l){const i=custom_event(e,r,{cancelable:f});return l.slice().forEach(t=>{t.call(s,i)}),!i.defaultPrevented}return!0}}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(s){render_callbacks.push(s)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(flushidx!==0)return;const s=current_component;do{try{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}}catch(e){throw dirty_components.length=0,flushidx=0,e}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const r=render_callbacks[e];seen_callbacks.has(r)||(seen_callbacks.add(r),r())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(s)}function update(s){if(s.fragment!==null){s.update(),run_all(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(add_render_callback)}}function flush_render_callbacks(s){const e=[],r=[];render_callbacks.forEach(f=>s.indexOf(f)===-1?e.push(f):r.push(f)),r.forEach(f=>f()),render_callbacks=e}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(s,e){s&&s.i&&(outroing.delete(s),s.i(e))}function transition_out(s,e,r,f){if(s&&s.o){if(outroing.has(s))return;outroing.add(s),outros.c.push(()=>{outroing.delete(s),f&&(r&&s.d(1),f())}),s.o(e)}else f&&f()}function ensure_array_like(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function create_component(s){s&&s.c()}function mount_component(s,e,r){const{fragment:f,after_update:l}=s.$$;f&&f.m(e,r),add_render_callback(()=>{const i=s.$$.on_mount.map(run).filter(is_function);s.$$.on_destroy?s.$$.on_destroy.push(...i):run_all(i),s.$$.on_mount=[]}),l.forEach(add_render_callback)}function destroy_component(s,e){const r=s.$$;r.fragment!==null&&(flush_render_callbacks(r.after_update),run_all(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(s,e){s.$$.dirty[0]===-1&&(dirty_components.push(s),schedule_update(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function init(s,e,r,f,l,i,t=null,a=[-1]){const o=current_component;set_current_component(s);const u=s.$$={fragment:null,ctx:[],props:i,update:noop$2,not_equal:l,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:blank_object(),dirty:a,skip_bound:!1,root:e.target||o.$$.root};t&&t(u.root);let d=!1;if(u.ctx=r?r(s,e.props||{},(c,p,...h)=>{const y=h.length?h[0]:p;return u.ctx&&l(u.ctx[c],u.ctx[c]=y)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](y),d&&make_dirty(s,c)),p}):[],u.update(),d=!0,run_all(u.before_update),u.fragment=f?f(u.ctx):!1,e.target){if(e.hydrate){const c=children(e.target);u.fragment&&u.fragment.l(c),c.forEach(detach)}else u.fragment&&u.fragment.c();e.intro&&transition_in(s.$$.fragment),mount_component(s,e.target,e.anchor),flush()}set_current_component(o)}class SvelteComponent{constructor(){ne(this,"$$");ne(this,"$$set")}$destroy(){destroy_component(this,1),this.$destroy=noop$2}$on(e,r){if(!is_function(r))return noop$2;const f=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return f.push(r),()=>{const l=f.indexOf(r);l!==-1&&f.splice(l,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const PUBLIC_VERSION="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);const PAGE_HASH={INDEX_PAGE:0,MOCK_PAGE:1,AST_PAGE:2};function create_fragment$4(s){let e,r,f,l,i,t,a,o,u,d,c,p,h,y,v,x,w,m;return{c(){e=element("header"),r=element("a"),f=text("PB Converter"),i=space(),t=element("a"),a=text("Mock"),u=space(),d=element("a"),c=text("AST"),h=space(),y=element("a"),y.textContent="JSON Converter",v=space(),x=element("a"),x.textContent="Github",attr(r,"href","/#"),attr(r,"class",l=s[0]===0?"active":""),attr(t,"href","/#mock"),attr(t,"class",o=s[0]===1?"active":""),attr(d,"href","/#ast"),attr(d,"class",p=s[0]===2?"active":""),attr(y,"href","http://www.jsontots.com/"),attr(y,"target","_blank"),attr(x,"class","github-link"),attr(x,"href","https://github.com/brandonxiang/pb-to-typescript"),attr(e,"class","header")},m($,b){insert($,e,b),append(e,r),append(r,f),append(e,i),append(e,t),append(t,a),append(e,u),append(e,d),append(d,c),append(e,h),append(e,y),append(e,v),append(e,x),w||(m=[listen(r,"click",s[2]),listen(t,"click",s[3]),listen(d,"click",s[4])],w=!0)},p($,[b]){b&1&&l!==(l=$[0]===0?"active":"")&&attr(r,"class",l),b&1&&o!==(o=$[0]===1?"active":"")&&attr(t,"class",o),b&1&&p!==(p=$[0]===2?"active":"")&&attr(d,"class",p)},i:noop$2,o:noop$2,d($){$&&detach(e),w=!1,run_all(m)}}}function instance$4(s,e,r){let{current:f=0}=e;const l=createEventDispatcher();function i(u){l("change",{route:u})}const t=()=>i(PAGE_HASH.INDEX_PAGE),a=()=>i(PAGE_HASH.MOCK_PAGE),o=()=>i(PAGE_HASH.AST_PAGE);return s.$$set=u=>{"current"in u&&r(0,f=u.current)},[f,i,t,a,o]}class Nav_bar extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{current:0})}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var src$1={exports:{}},indexLight$1={exports:{}},indexMinimal$1={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=s;function s(e,r){for(var f=new Array(arguments.length-1),l=0,i=2,t=!0;i<arguments.length;)f[l++]=arguments[i++];return new Promise(function(o,u){f[l]=function(c){if(t)if(t=!1,c)u(c);else{for(var p=new Array(arguments.length-1),h=0;h<p.length;)p[h++]=arguments[h];o.apply(null,p)}};try{e.apply(r||null,f)}catch(d){t&&(t=!1,u(d))}})}return aspromise}var base64$2={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(s){var e=s;e.length=function(a){var o=a.length;if(!o)return 0;for(var u=0;--o%4>1&&a.charAt(o)==="=";)++u;return Math.ceil(a.length*3)/4-u};for(var r=new Array(64),f=new Array(123),l=0;l<64;)f[r[l]=l<26?l+65:l<52?l+71:l<62?l-4:l-59|43]=l++;e.encode=function(a,o,u){for(var d=null,c=[],p=0,h=0,y;o<u;){var v=a[o++];switch(h){case 0:c[p++]=r[v>>2],y=(v&3)<<4,h=1;break;case 1:c[p++]=r[y|v>>4],y=(v&15)<<2,h=2;break;case 2:c[p++]=r[y|v>>6],c[p++]=r[v&63],h=0;break}p>8191&&((d||(d=[])).push(String.fromCharCode.apply(String,c)),p=0)}return h&&(c[p++]=r[y],c[p++]=61,h===1&&(c[p++]=61)),d?(p&&d.push(String.fromCharCode.apply(String,c.slice(0,p))),d.join("")):String.fromCharCode.apply(String,c.slice(0,p))};var i="invalid encoding";e.decode=function(a,o,u){for(var d=u,c=0,p,h=0;h<a.length;){var y=a.charCodeAt(h++);if(y===61&&c>1)break;if((y=f[y])===void 0)throw Error(i);switch(c){case 0:p=y,c=1;break;case 1:o[u++]=p<<2|(y&48)>>4,p=y,c=2;break;case 2:o[u++]=(p&15)<<4|(y&60)>>2,p=y,c=3;break;case 3:o[u++]=(p&3)<<6|y,c=0;break}}if(c===1)throw Error(i);return u-d},e.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}}(base64$2)),base64$2}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=s;function s(){this._listeners={}}return s.prototype.on=function(r,f,l){return(this._listeners[r]||(this._listeners[r]=[])).push({fn:f,ctx:l||this}),this},s.prototype.off=function(r,f){if(r===void 0)this._listeners={};else if(f===void 0)this._listeners[r]=[];else for(var l=this._listeners[r],i=0;i<l.length;)l[i].fn===f?l.splice(i,1):++i;return this},s.prototype.emit=function(r){var f=this._listeners[r];if(f){for(var l=[],i=1;i<arguments.length;)l.push(arguments[i++]);for(i=0;i<f.length;)f[i].fn.apply(f[i++].ctx,l)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=s(s);function s(i){return typeof Float32Array<"u"?function(){var t=new Float32Array([-0]),a=new Uint8Array(t.buffer),o=a[3]===128;function u(h,y,v){t[0]=h,y[v]=a[0],y[v+1]=a[1],y[v+2]=a[2],y[v+3]=a[3]}function d(h,y,v){t[0]=h,y[v]=a[3],y[v+1]=a[2],y[v+2]=a[1],y[v+3]=a[0]}i.writeFloatLE=o?u:d,i.writeFloatBE=o?d:u;function c(h,y){return a[0]=h[y],a[1]=h[y+1],a[2]=h[y+2],a[3]=h[y+3],t[0]}function p(h,y){return a[3]=h[y],a[2]=h[y+1],a[1]=h[y+2],a[0]=h[y+3],t[0]}i.readFloatLE=o?c:p,i.readFloatBE=o?p:c}():function(){function t(o,u,d,c){var p=u<0?1:0;if(p&&(u=-u),u===0)o(1/u>0?0:2147483648,d,c);else if(isNaN(u))o(2143289344,d,c);else if(u>34028234663852886e22)o((p<<31|2139095040)>>>0,d,c);else if(u<11754943508222875e-54)o((p<<31|Math.round(u/1401298464324817e-60))>>>0,d,c);else{var h=Math.floor(Math.log(u)/Math.LN2),y=Math.round(u*Math.pow(2,-h)*8388608)&8388607;o((p<<31|h+127<<23|y)>>>0,d,c)}}i.writeFloatLE=t.bind(null,e),i.writeFloatBE=t.bind(null,r);function a(o,u,d){var c=o(u,d),p=(c>>31)*2+1,h=c>>>23&255,y=c&8388607;return h===255?y?NaN:p*(1/0):h===0?p*1401298464324817e-60*y:p*Math.pow(2,h-150)*(y+8388608)}i.readFloatLE=a.bind(null,f),i.readFloatBE=a.bind(null,l)}(),typeof Float64Array<"u"?function(){var t=new Float64Array([-0]),a=new Uint8Array(t.buffer),o=a[7]===128;function u(h,y,v){t[0]=h,y[v]=a[0],y[v+1]=a[1],y[v+2]=a[2],y[v+3]=a[3],y[v+4]=a[4],y[v+5]=a[5],y[v+6]=a[6],y[v+7]=a[7]}function d(h,y,v){t[0]=h,y[v]=a[7],y[v+1]=a[6],y[v+2]=a[5],y[v+3]=a[4],y[v+4]=a[3],y[v+5]=a[2],y[v+6]=a[1],y[v+7]=a[0]}i.writeDoubleLE=o?u:d,i.writeDoubleBE=o?d:u;function c(h,y){return a[0]=h[y],a[1]=h[y+1],a[2]=h[y+2],a[3]=h[y+3],a[4]=h[y+4],a[5]=h[y+5],a[6]=h[y+6],a[7]=h[y+7],t[0]}function p(h,y){return a[7]=h[y],a[6]=h[y+1],a[5]=h[y+2],a[4]=h[y+3],a[3]=h[y+4],a[2]=h[y+5],a[1]=h[y+6],a[0]=h[y+7],t[0]}i.readDoubleLE=o?c:p,i.readDoubleBE=o?p:c}():function(){function t(o,u,d,c,p,h){var y=c<0?1:0;if(y&&(c=-c),c===0)o(0,p,h+u),o(1/c>0?0:2147483648,p,h+d);else if(isNaN(c))o(0,p,h+u),o(2146959360,p,h+d);else if(c>17976931348623157e292)o(0,p,h+u),o((y<<31|2146435072)>>>0,p,h+d);else{var v;if(c<22250738585072014e-324)v=c/5e-324,o(v>>>0,p,h+u),o((y<<31|v/4294967296)>>>0,p,h+d);else{var x=Math.floor(Math.log(c)/Math.LN2);x===1024&&(x=1023),v=c*Math.pow(2,-x),o(v*4503599627370496>>>0,p,h+u),o((y<<31|x+1023<<20|v*1048576&1048575)>>>0,p,h+d)}}}i.writeDoubleLE=t.bind(null,e,0,4),i.writeDoubleBE=t.bind(null,r,4,0);function a(o,u,d,c,p){var h=o(c,p+u),y=o(c,p+d),v=(y>>31)*2+1,x=y>>>20&2047,w=4294967296*(y&1048575)+h;return x===2047?w?NaN:v*(1/0):x===0?v*5e-324*w:v*Math.pow(2,x-1075)*(w+4503599627370496)}i.readDoubleLE=a.bind(null,f,0,4),i.readDoubleBE=a.bind(null,l,4,0)}(),i}function e(i,t,a){t[a]=i&255,t[a+1]=i>>>8&255,t[a+2]=i>>>16&255,t[a+3]=i>>>24}function r(i,t,a){t[a]=i>>>24,t[a+1]=i>>>16&255,t[a+2]=i>>>8&255,t[a+3]=i&255}function f(i,t){return(i[t]|i[t+1]<<8|i[t+2]<<16|i[t+3]<<24)>>>0}function l(i,t){return(i[t]<<24|i[t+1]<<16|i[t+2]<<8|i[t+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(s){}return null}return inquire_1}var utf8$4={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(s){var e=s;e.length=function(f){for(var l=0,i=0,t=0;t<f.length;++t)i=f.charCodeAt(t),i<128?l+=1:i<2048?l+=2:(i&64512)===55296&&(f.charCodeAt(t+1)&64512)===56320?(++t,l+=4):l+=3;return l},e.read=function(f,l,i){var t=i-l;if(t<1)return"";for(var a=null,o=[],u=0,d;l<i;)d=f[l++],d<128?o[u++]=d:d>191&&d<224?o[u++]=(d&31)<<6|f[l++]&63:d>239&&d<365?(d=((d&7)<<18|(f[l++]&63)<<12|(f[l++]&63)<<6|f[l++]&63)-65536,o[u++]=55296+(d>>10),o[u++]=56320+(d&1023)):o[u++]=(d&15)<<12|(f[l++]&63)<<6|f[l++]&63,u>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,o)),u=0);return a?(u&&a.push(String.fromCharCode.apply(String,o.slice(0,u))),a.join("")):String.fromCharCode.apply(String,o.slice(0,u))},e.write=function(f,l,i){for(var t=i,a,o,u=0;u<f.length;++u)a=f.charCodeAt(u),a<128?l[i++]=a:a<2048?(l[i++]=a>>6|192,l[i++]=a&63|128):(a&64512)===55296&&((o=f.charCodeAt(u+1))&64512)===56320?(a=65536+((a&1023)<<10)+(o&1023),++u,l[i++]=a>>18|240,l[i++]=a>>12&63|128,l[i++]=a>>6&63|128,l[i++]=a&63|128):(l[i++]=a>>12|224,l[i++]=a>>6&63|128,l[i++]=a&63|128);return i-t}}(utf8$4)),utf8$4}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=s;function s(e,r,f){var l=f||8192,i=l>>>1,t=null,a=l;return function(u){if(u<1||u>i)return e(u);a+u>l&&(t=e(l),a=0);var d=r.call(t,a,a+=u);return a&7&&(a=(a|7)+1),d}}return pool_1}var longbits$1,hasRequiredLongbits$1;function requireLongbits$1(){if(hasRequiredLongbits$1)return longbits$1;hasRequiredLongbits$1=1,longbits$1=e;var s=requireMinimal$1();function e(i,t){this.lo=i>>>0,this.hi=t>>>0}var r=e.zero=new e(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var f=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(t){if(t===0)return r;var a=t<0;a&&(t=-t);var o=t>>>0,u=(t-o)/4294967296>>>0;return a&&(u=~u>>>0,o=~o>>>0,++o>4294967295&&(o=0,++u>4294967295&&(u=0))),new e(o,u)},e.from=function(t){if(typeof t=="number")return e.fromNumber(t);if(s.isString(t))if(s.Long)t=s.Long.fromString(t);else return e.fromNumber(parseInt(t,10));return t.low||t.high?new e(t.low>>>0,t.high>>>0):r},e.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var a=~this.lo+1>>>0,o=~this.hi>>>0;return a||(o=o+1>>>0),-(a+o*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(t){return s.Long?new s.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var l=String.prototype.charCodeAt;return e.fromHash=function(t){return t===f?r:new e((l.call(t,0)|l.call(t,1)<<8|l.call(t,2)<<16|l.call(t,3)<<24)>>>0,(l.call(t,4)|l.call(t,5)<<8|l.call(t,6)<<16|l.call(t,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},e.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},e.prototype.length=function(){var t=this.lo,a=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?a===0?t<16384?t<128?1:2:t<2097152?3:4:a<16384?a<128?5:6:a<2097152?7:8:o<128?9:10},longbits$1}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,function(s){var e=s;e.asPromise=requireAspromise(),e.base64=requireBase64(),e.EventEmitter=requireEventemitter(),e.float=requireFloat(),e.inquire=requireInquire(),e.utf8=requireUtf8(),e.pool=requirePool(),e.LongBits=requireLongbits$1(),e.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i},e.isString=function(i){return typeof i=="string"||i instanceof String},e.isObject=function(i){return i&&typeof i=="object"},e.isset=e.isSet=function(i,t){var a=i[t];return a!=null&&i.hasOwnProperty(t)?typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0:!1},e.Buffer=function(){try{var l=e.inquire("buffer").Buffer;return l.prototype.utf8Write?l:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(i){return typeof i=="number"?e.Buffer?e._Buffer_allocUnsafe(i):new e.Array(i):e.Buffer?e._Buffer_from(i):typeof Uint8Array>"u"?i:new Uint8Array(i)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(i){return i?e.LongBits.from(i).toHash():e.LongBits.zeroHash},e.longFromHash=function(i,t){var a=e.LongBits.fromHash(i);return e.Long?e.Long.fromBits(a.lo,a.hi,t):a.toNumber(!!t)};function r(l,i,t){for(var a=Object.keys(i),o=0;o<a.length;++o)(l[a[o]]===void 0||!t)&&(l[a[o]]=i[a[o]]);return l}e.merge=r,e.lcFirst=function(i){return i.charAt(0).toLowerCase()+i.substring(1)};function f(l){function i(t,a){if(!(this instanceof i))return new i(t,a);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&r(this,a)}return i.prototype=Object.create(Error.prototype,{constructor:{value:i,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return l},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),i}e.newError=f,e.ProtocolError=f("ProtocolError"),e.oneOfGetter=function(i){for(var t={},a=0;a<i.length;++a)t[i[a]]=1;return function(){for(var o=Object.keys(this),u=o.length-1;u>-1;--u)if(t[o[u]]===1&&this[o[u]]!==void 0&&this[o[u]]!==null)return o[u]}},e.oneOfSetter=function(i){return function(t){for(var a=0;a<i.length;++a)i[a]!==t&&delete this[i[a]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var l=e.Buffer;if(!l){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=l.from!==Uint8Array.from&&l.from||function(t,a){return new l(t,a)},e._Buffer_allocUnsafe=l.allocUnsafe||function(t){return new l(t)}}}(minimal$1)),minimal$1}var writer$1=Writer$3,util$f=requireMinimal$1(),BufferWriter$3,LongBits$3=util$f.LongBits,base64$1=util$f.base64,utf8$3=util$f.utf8;function Op$1(s,e,r){this.fn=s,this.len=e,this.next=void 0,this.val=r}function noop$1(){}function State$1(s){this.head=s.head,this.tail=s.tail,this.len=s.len,this.next=s.states}function Writer$3(){this.len=0,this.head=new Op$1(noop$1,0,0),this.tail=this.head,this.states=null}var create$3=function s(){return util$f.Buffer?function(){return(Writer$3.create=function(){return new BufferWriter$3})()}:function(){return new Writer$3}};Writer$3.create=create$3();Writer$3.alloc=function s(e){return new util$f.Array(e)};util$f.Array!==Array&&(Writer$3.alloc=util$f.pool(Writer$3.alloc,util$f.Array.prototype.subarray));Writer$3.prototype._push=function s(e,r,f){return this.tail=this.tail.next=new Op$1(e,r,f),this.len+=r,this};function writeByte$1(s,e,r){e[r]=s&255}function writeVarint32$1(s,e,r){for(;s>127;)e[r++]=s&127|128,s>>>=7;e[r]=s}function VarintOp$1(s,e){this.len=s,this.next=void 0,this.val=e}VarintOp$1.prototype=Object.create(Op$1.prototype);VarintOp$1.prototype.fn=writeVarint32$1;Writer$3.prototype.uint32=function s(e){return this.len+=(this.tail=this.tail.next=new VarintOp$1((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$3.prototype.int32=function s(e){return e<0?this._push(writeVarint64$1,10,LongBits$3.fromNumber(e)):this.uint32(e)};Writer$3.prototype.sint32=function s(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64$1(s,e,r){for(;s.hi;)e[r++]=s.lo&127|128,s.lo=(s.lo>>>7|s.hi<<25)>>>0,s.hi>>>=7;for(;s.lo>127;)e[r++]=s.lo&127|128,s.lo=s.lo>>>7;e[r++]=s.lo}Writer$3.prototype.uint64=function s(e){var r=LongBits$3.from(e);return this._push(writeVarint64$1,r.length(),r)};Writer$3.prototype.int64=Writer$3.prototype.uint64;Writer$3.prototype.sint64=function s(e){var r=LongBits$3.from(e).zzEncode();return this._push(writeVarint64$1,r.length(),r)};Writer$3.prototype.bool=function s(e){return this._push(writeByte$1,1,e?1:0)};function writeFixed32$1(s,e,r){e[r]=s&255,e[r+1]=s>>>8&255,e[r+2]=s>>>16&255,e[r+3]=s>>>24}Writer$3.prototype.fixed32=function s(e){return this._push(writeFixed32$1,4,e>>>0)};Writer$3.prototype.sfixed32=Writer$3.prototype.fixed32;Writer$3.prototype.fixed64=function s(e){var r=LongBits$3.from(e);return this._push(writeFixed32$1,4,r.lo)._push(writeFixed32$1,4,r.hi)};Writer$3.prototype.sfixed64=Writer$3.prototype.fixed64;Writer$3.prototype.float=function s(e){return this._push(util$f.float.writeFloatLE,4,e)};Writer$3.prototype.double=function s(e){return this._push(util$f.float.writeDoubleLE,8,e)};var writeBytes$1=util$f.Array.prototype.set?function s(e,r,f){r.set(e,f)}:function s(e,r,f){for(var l=0;l<e.length;++l)r[f+l]=e[l]};Writer$3.prototype.bytes=function s(e){var r=e.length>>>0;if(!r)return this._push(writeByte$1,1,0);if(util$f.isString(e)){var f=Writer$3.alloc(r=base64$1.length(e));base64$1.decode(e,f,0),e=f}return this.uint32(r)._push(writeBytes$1,r,e)};Writer$3.prototype.string=function s(e){var r=utf8$3.length(e);return r?this.uint32(r)._push(utf8$3.write,r,e):this._push(writeByte$1,1,0)};Writer$3.prototype.fork=function s(){return this.states=new State$1(this),this.head=this.tail=new Op$1(noop$1,0,0),this.len=0,this};Writer$3.prototype.reset=function s(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op$1(noop$1,0,0),this.len=0),this};Writer$3.prototype.ldelim=function s(){var e=this.head,r=this.tail,f=this.len;return this.reset().uint32(f),f&&(this.tail.next=e.next,this.tail=r,this.len+=f),this};Writer$3.prototype.finish=function s(){for(var e=this.head.next,r=this.constructor.alloc(this.len),f=0;e;)e.fn(e.val,r,f),f+=e.len,e=e.next;return r};Writer$3._configure=function(s){BufferWriter$3=s,Writer$3.create=create$3(),BufferWriter$3._configure()};var writer_buffer$1=BufferWriter$2,Writer$2=writer$1;(BufferWriter$2.prototype=Object.create(Writer$2.prototype)).constructor=BufferWriter$2;var util$e=requireMinimal$1();function BufferWriter$2(){Writer$2.call(this)}BufferWriter$2._configure=function(){BufferWriter$2.alloc=util$e._Buffer_allocUnsafe,BufferWriter$2.writeBytesBuffer=util$e.Buffer&&util$e.Buffer.prototype instanceof Uint8Array&&util$e.Buffer.prototype.set.name==="set"?function(e,r,f){r.set(e,f)}:function(e,r,f){if(e.copy)e.copy(r,f,0,e.length);else for(var l=0;l<e.length;)r[f++]=e[l++]}};BufferWriter$2.prototype.bytes=function s(e){util$e.isString(e)&&(e=util$e._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(BufferWriter$2.writeBytesBuffer,r,e),this};function writeStringBuffer$1(s,e,r){s.length<40?util$e.utf8.write(s,e,r):e.utf8Write?e.utf8Write(s,r):e.write(s,r)}BufferWriter$2.prototype.string=function s(e){var r=util$e.Buffer.byteLength(e);return this.uint32(r),r&&this._push(writeStringBuffer$1,r,e),this};BufferWriter$2._configure();var reader$1=Reader$3,util$d=requireMinimal$1(),BufferReader$3,LongBits$2=util$d.LongBits,utf8$2=util$d.utf8;function indexOutOfRange$1(s,e){return RangeError("index out of range: "+s.pos+" + "+(e||1)+" > "+s.len)}function Reader$3(s){this.buf=s,this.pos=0,this.len=s.length}var create_array$1=typeof Uint8Array<"u"?function s(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$3(e);throw Error("illegal buffer")}:function s(e){if(Array.isArray(e))return new Reader$3(e);throw Error("illegal buffer")},create$2=function s(){return util$d.Buffer?function(r){return(Reader$3.create=function(l){return util$d.Buffer.isBuffer(l)?new BufferReader$3(l):create_array$1(l)})(r)}:create_array$1};Reader$3.create=create$2();Reader$3.prototype._slice=util$d.Array.prototype.subarray||util$d.Array.prototype.slice;Reader$3.prototype.uint32=function s(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange$1(this,10);return e}}();Reader$3.prototype.int32=function s(){return this.uint32()|0};Reader$3.prototype.sint32=function s(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint$1(){var s=new LongBits$2(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(s.lo=(s.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return s;if(s.lo=(s.lo|(this.buf[this.pos]&127)<<28)>>>0,s.hi=(s.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return s;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange$1(this);if(s.lo=(s.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return s}return s.lo=(s.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,s}if(this.len-this.pos>4){for(;e<5;++e)if(s.hi=(s.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return s}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange$1(this);if(s.hi=(s.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return s}throw Error("invalid varint encoding")}Reader$3.prototype.bool=function s(){return this.uint32()!==0};function readFixed32_end$1(s,e){return(s[e-4]|s[e-3]<<8|s[e-2]<<16|s[e-1]<<24)>>>0}Reader$3.prototype.fixed32=function s(){if(this.pos+4>this.len)throw indexOutOfRange$1(this,4);return readFixed32_end$1(this.buf,this.pos+=4)};Reader$3.prototype.sfixed32=function s(){if(this.pos+4>this.len)throw indexOutOfRange$1(this,4);return readFixed32_end$1(this.buf,this.pos+=4)|0};function readFixed64$1(){if(this.pos+8>this.len)throw indexOutOfRange$1(this,8);return new LongBits$2(readFixed32_end$1(this.buf,this.pos+=4),readFixed32_end$1(this.buf,this.pos+=4))}Reader$3.prototype.float=function s(){if(this.pos+4>this.len)throw indexOutOfRange$1(this,4);var e=util$d.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$3.prototype.double=function s(){if(this.pos+8>this.len)throw indexOutOfRange$1(this,4);var e=util$d.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$3.prototype.bytes=function s(){var e=this.uint32(),r=this.pos,f=this.pos+e;if(f>this.len)throw indexOutOfRange$1(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,f):r===f?new this.buf.constructor(0):this._slice.call(this.buf,r,f)};Reader$3.prototype.string=function s(){var e=this.bytes();return utf8$2.read(e,0,e.length)};Reader$3.prototype.skip=function s(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange$1(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange$1(this);while(this.buf[this.pos++]&128);return this};Reader$3.prototype.skipType=function(s){switch(s){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(s=this.uint32()&7)!==4;)this.skipType(s);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+s+" at offset "+this.pos)}return this};Reader$3._configure=function(s){BufferReader$3=s,Reader$3.create=create$2(),BufferReader$3._configure();var e=util$d.Long?"toLong":"toNumber";util$d.merge(Reader$3.prototype,{int64:function(){return readLongVarint$1.call(this)[e](!1)},uint64:function(){return readLongVarint$1.call(this)[e](!0)},sint64:function(){return readLongVarint$1.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64$1.call(this)[e](!0)},sfixed64:function(){return readFixed64$1.call(this)[e](!1)}})};var reader_buffer$1=BufferReader$2,Reader$2=reader$1;(BufferReader$2.prototype=Object.create(Reader$2.prototype)).constructor=BufferReader$2;var util$c=requireMinimal$1();function BufferReader$2(s){Reader$2.call(this,s)}BufferReader$2._configure=function(){util$c.Buffer&&(BufferReader$2.prototype._slice=util$c.Buffer.prototype.slice)};BufferReader$2.prototype.string=function s(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader$2._configure();var rpc$1={},service$3=Service$5,util$b=requireMinimal$1();(Service$5.prototype=Object.create(util$b.EventEmitter.prototype)).constructor=Service$5;function Service$5(s,e,r){if(typeof s!="function")throw TypeError("rpcImpl must be a function");util$b.EventEmitter.call(this),this.rpcImpl=s,this.requestDelimited=!!e,this.responseDelimited=!!r}Service$5.prototype.rpcCall=function s(e,r,f,l,i){if(!l)throw TypeError("request must be specified");var t=this;if(!i)return util$b.asPromise(s,t,e,r,f,l);if(!t.rpcImpl){setTimeout(function(){i(Error("already ended"))},0);return}try{return t.rpcImpl(e,r[t.requestDelimited?"encodeDelimited":"encode"](l).finish(),function(o,u){if(o)return t.emit("error",o,e),i(o);if(u===null){t.end(!0);return}if(!(u instanceof f))try{u=f[t.responseDelimited?"decodeDelimited":"decode"](u)}catch(d){return t.emit("error",d,e),i(d)}return t.emit("data",u,e),i(null,u)})}catch(a){t.emit("error",a,e),setTimeout(function(){i(a)},0);return}};Service$5.prototype.end=function s(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(s){var e=s;e.Service=service$3})(rpc$1);var roots$1={};(function(s){var e=s;e.build="minimal",e.Writer=writer$1,e.BufferWriter=writer_buffer$1,e.Reader=reader$1,e.BufferReader=reader_buffer$1,e.util=requireMinimal$1(),e.rpc=rpc$1,e.roots=roots$1,e.configure=r;function r(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}r()})(indexMinimal$1);var util$a={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=s;function s(e,r){typeof e=="string"&&(r=e,e=void 0);var f=[];function l(t){if(typeof t!="string"){var a=i();if(s.verbose&&console.log("codegen: "+a),a="return "+a,t){for(var o=Object.keys(t),u=new Array(o.length+1),d=new Array(o.length),c=0;c<o.length;)u[c]=o[c],d[c]=t[o[c++]];return u[c]=a,Function.apply(null,u).apply(null,d)}return Function(a)()}for(var p=new Array(arguments.length-1),h=0;h<p.length;)p[h]=arguments[++h];if(h=0,t=t.replace(/%([%dfijs])/g,function(v,x){var w=p[h++];switch(x){case"d":case"f":return String(Number(w));case"i":return String(Math.floor(w));case"j":return JSON.stringify(w);case"s":return String(w)}return"%"}),h!==p.length)throw Error("parameter count mismatch");return f.push(t),l}function i(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+`){
  `+f.join(`
  `)+`
}`}return l.toString=i,l}return s.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=f;var s=requireAspromise(),e=requireInquire(),r=e("fs");function f(l,i,t){return typeof i=="function"?(t=i,i={}):i||(i={}),t?!i.xhr&&r&&r.readFile?r.readFile(l,function(o,u){return o&&typeof XMLHttpRequest<"u"?f.xhr(l,i,t):o?t(o):t(null,i.binary?u:u.toString("utf8"))}):f.xhr(l,i,t):s(f,this,l,i)}return f.xhr=function(i,t,a){var o=new XMLHttpRequest;o.onreadystatechange=function(){if(o.readyState===4){if(o.status!==0&&o.status!==200)return a(Error("status "+o.status));if(t.binary){var d=o.response;if(!d){d=[];for(var c=0;c<o.responseText.length;++c)d.push(o.responseText.charCodeAt(c)&255)}return a(null,typeof Uint8Array<"u"?new Uint8Array(d):d)}return a(null,o.responseText)}},t.binary&&("overrideMimeType"in o&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.responseType="arraybuffer"),o.open("GET",i),o.send()},fetch_1}var path={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,function(s){var e=s,r=e.isAbsolute=function(i){return/^(?:\/|\w+:)/.test(i)},f=e.normalize=function(i){i=i.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var t=i.split("/"),a=r(i),o="";a&&(o=t.shift()+"/");for(var u=0;u<t.length;)t[u]===".."?u>0&&t[u-1]!==".."?t.splice(--u,2):a?t.splice(u,1):++u:t[u]==="."?t.splice(u,1):++u;return o+t.join("/")};e.resolve=function(i,t,a){return a||(t=f(t)),r(t)?t:(a||(i=f(i)),(i=i.replace(/(?:\/|^)[^/]+$/,"")).length?f(i+"/"+t):t)}}(path)),path}var types$3={},hasRequiredTypes$1;function requireTypes$1(){return hasRequiredTypes$1||(hasRequiredTypes$1=1,function(s){var e=s,r=requireUtil$1(),f=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function l(i,t){var a=0,o={};for(t|=0;a<i.length;)o[f[a+t]]=i[a++];return o}e.basic=l([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),e.defaults=l([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",r.emptyArray,null]),e.long=l([0,0,0,1,1],7),e.mapKey=l([0,0,0,5,5,0,0,0,1,1,0,2],2),e.packed=l([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types$3)),types$3}var field$1,hasRequiredField$1;function requireField$1(){if(hasRequiredField$1)return field$1;hasRequiredField$1=1,field$1=t;var s=requireObject$1();((t.prototype=Object.create(s.prototype)).constructor=t).className="Field";var e=require_enum$1(),r=requireTypes$1(),f=requireUtil$1(),l,i=/^required|optional|repeated$/;t.fromJSON=function(o,u){return new t(o,u.id,u.type,u.rule,u.extend,u.options,u.comment)};function t(a,o,u,d,c,p,h){if(f.isObject(d)?(h=c,p=d,d=c=void 0):f.isObject(c)&&(h=p,p=c,c=void 0),s.call(this,a,p),!f.isInteger(o)||o<0)throw TypeError("id must be a non-negative integer");if(!f.isString(u))throw TypeError("type must be a string");if(d!==void 0&&!i.test(d=d.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(c!==void 0&&!f.isString(c))throw TypeError("extend must be a string");d==="proto3_optional"&&(d="optional"),this.rule=d&&d!=="optional"?d:void 0,this.type=u,this.id=o,this.extend=c||void 0,this.required=d==="required",this.optional=!this.required,this.repeated=d==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=f.Long?r.long[u]!==void 0:!1,this.bytes=u==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=h}return Object.defineProperty(t.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),t.prototype.setOption=function(o,u,d){return o==="packed"&&(this._packed=null),s.prototype.setOption.call(this,o,u,d)},t.prototype.toJSON=function(o){var u=o?!!o.keepComments:!1;return f.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",u?this.comment:void 0])},t.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=r.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof l?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof e&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof e))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=f.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var o;f.base64.test(this.typeDefault)?f.base64.decode(this.typeDefault,o=f.newBuffer(f.base64.length(this.typeDefault)),0):f.utf8.write(this.typeDefault,o=f.newBuffer(f.utf8.length(this.typeDefault)),0),this.typeDefault=o}return this.map?this.defaultValue=f.emptyObject:this.repeated?this.defaultValue=f.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof l&&(this.parent.ctor.prototype[this.name]=this.defaultValue),s.prototype.resolve.call(this)},t.d=function(o,u,d,c){return typeof u=="function"?u=f.decorateType(u).name:u&&typeof u=="object"&&(u=f.decorateEnum(u).name),function(h,y){f.decorateType(h.constructor).add(new t(y,o,u,d,{default:c}))}},t._configure=function(o){l=o},field$1}var oneof$1,hasRequiredOneof$1;function requireOneof$1(){if(hasRequiredOneof$1)return oneof$1;hasRequiredOneof$1=1,oneof$1=f;var s=requireObject$1();((f.prototype=Object.create(s.prototype)).constructor=f).className="OneOf";var e=requireField$1(),r=requireUtil$1();function f(i,t,a,o){if(Array.isArray(t)||(a=t,t=void 0),s.call(this,i,a),!(t===void 0||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}f.fromJSON=function(t,a){return new f(t,a.oneof,a.options,a.comment)},f.prototype.toJSON=function(t){var a=t?!!t.keepComments:!1;return r.toObject(["options",this.options,"oneof",this.oneof,"comment",a?this.comment:void 0])};function l(i){if(i.parent)for(var t=0;t<i.fieldsArray.length;++t)i.fieldsArray[t].parent||i.parent.add(i.fieldsArray[t])}return f.prototype.add=function(t){if(!(t instanceof e))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,l(this),this},f.prototype.remove=function(t){if(!(t instanceof e))throw TypeError("field must be a Field");var a=this.fieldsArray.indexOf(t);if(a<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(a,1),a=this.oneof.indexOf(t.name),a>-1&&this.oneof.splice(a,1),t.partOf=null,this},f.prototype.onAdd=function(t){s.prototype.onAdd.call(this,t);for(var a=this,o=0;o<this.oneof.length;++o){var u=t.get(this.oneof[o]);u&&!u.partOf&&(u.partOf=a,a.fieldsArray.push(u))}l(this)},f.prototype.onRemove=function(t){for(var a=0,o;a<this.fieldsArray.length;++a)(o=this.fieldsArray[a]).parent&&o.parent.remove(o);s.prototype.onRemove.call(this,t)},f.d=function(){for(var t=new Array(arguments.length),a=0;a<arguments.length;)t[a]=arguments[a++];return function(u,d){r.decorateType(u.constructor).add(new f(d,t)),Object.defineProperty(u,d,{get:r.oneOfGetter(t),set:r.oneOfSetter(t)})}},oneof$1}var namespace$1,hasRequiredNamespace$1;function requireNamespace$1(){if(hasRequiredNamespace$1)return namespace$1;hasRequiredNamespace$1=1,namespace$1=o;var s=requireObject$1();((o.prototype=Object.create(s.prototype)).constructor=o).className="Namespace";var e=requireField$1(),r=requireUtil$1(),f=requireOneof$1(),l,i,t;o.fromJSON=function(c,p){return new o(c,p.options).addJSON(p.nested)};function a(d,c){if(d&&d.length){for(var p={},h=0;h<d.length;++h)p[d[h].name]=d[h].toJSON(c);return p}}o.arrayToJSON=a,o.isReservedId=function(c,p){if(c){for(var h=0;h<c.length;++h)if(typeof c[h]!="string"&&c[h][0]<=p&&c[h][1]>p)return!0}return!1},o.isReservedName=function(c,p){if(c){for(var h=0;h<c.length;++h)if(c[h]===p)return!0}return!1};function o(d,c){s.call(this,d,c),this.nested=void 0,this._nestedArray=null}function u(d){return d._nestedArray=null,d}return Object.defineProperty(o.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=r.toArray(this.nested))}}),o.prototype.toJSON=function(c){return r.toObject(["options",this.options,"nested",a(this.nestedArray,c)])},o.prototype.addJSON=function(c){var p=this;if(c)for(var h=Object.keys(c),y=0,v;y<h.length;++y)v=c[h[y]],p.add((v.fields!==void 0?l.fromJSON:v.values!==void 0?t.fromJSON:v.methods!==void 0?i.fromJSON:v.id!==void 0?e.fromJSON:o.fromJSON)(h[y],v));return this},o.prototype.get=function(c){return this.nested&&this.nested[c]||null},o.prototype.getEnum=function(c){if(this.nested&&this.nested[c]instanceof t)return this.nested[c].values;throw Error("no such enum: "+c)},o.prototype.add=function(c){if(!(c instanceof e&&c.extend!==void 0||c instanceof l||c instanceof f||c instanceof t||c instanceof i||c instanceof o))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var p=this.get(c.name);if(p)if(p instanceof o&&c instanceof o&&!(p instanceof l||p instanceof i)){for(var h=p.nestedArray,y=0;y<h.length;++y)c.add(h[y]);this.remove(p),this.nested||(this.nested={}),c.setOptions(p.options,!0)}else throw Error("duplicate name '"+c.name+"' in "+this)}return this.nested[c.name]=c,c.onAdd(this),u(this)},o.prototype.remove=function(c){if(!(c instanceof s))throw TypeError("object must be a ReflectionObject");if(c.parent!==this)throw Error(c+" is not a member of "+this);return delete this.nested[c.name],Object.keys(this.nested).length||(this.nested=void 0),c.onRemove(this),u(this)},o.prototype.define=function(c,p){if(r.isString(c))c=c.split(".");else if(!Array.isArray(c))throw TypeError("illegal path");if(c&&c.length&&c[0]==="")throw Error("path must be relative");for(var h=this;c.length>0;){var y=c.shift();if(h.nested&&h.nested[y]){if(h=h.nested[y],!(h instanceof o))throw Error("path conflicts with non-namespace objects")}else h.add(h=new o(y))}return p&&h.addJSON(p),h},o.prototype.resolveAll=function(){for(var c=this.nestedArray,p=0;p<c.length;)c[p]instanceof o?c[p++].resolveAll():c[p++].resolve();return this.resolve()},o.prototype.lookup=function(c,p,h){if(typeof p=="boolean"?(h=p,p=void 0):p&&!Array.isArray(p)&&(p=[p]),r.isString(c)&&c.length){if(c===".")return this.root;c=c.split(".")}else if(!c.length)return this;if(c[0]==="")return this.root.lookup(c.slice(1),p);var y=this.get(c[0]);if(y){if(c.length===1){if(!p||p.indexOf(y.constructor)>-1)return y}else if(y instanceof o&&(y=y.lookup(c.slice(1),p,!0)))return y}else for(var v=0;v<this.nestedArray.length;++v)if(this._nestedArray[v]instanceof o&&(y=this._nestedArray[v].lookup(c,p,!0)))return y;return this.parent===null||h?null:this.parent.lookup(c,p)},o.prototype.lookupType=function(c){var p=this.lookup(c,[l]);if(!p)throw Error("no such type: "+c);return p},o.prototype.lookupEnum=function(c){var p=this.lookup(c,[t]);if(!p)throw Error("no such Enum '"+c+"' in "+this);return p},o.prototype.lookupTypeOrEnum=function(c){var p=this.lookup(c,[l,t]);if(!p)throw Error("no such Type or Enum '"+c+"' in "+this);return p},o.prototype.lookupService=function(c){var p=this.lookup(c,[i]);if(!p)throw Error("no such Service '"+c+"' in "+this);return p},o._configure=function(d,c,p){l=d,i=c,t=p},namespace$1}var mapfield$1,hasRequiredMapfield$1;function requireMapfield$1(){if(hasRequiredMapfield$1)return mapfield$1;hasRequiredMapfield$1=1,mapfield$1=f;var s=requireField$1();((f.prototype=Object.create(s.prototype)).constructor=f).className="MapField";var e=requireTypes$1(),r=requireUtil$1();function f(l,i,t,a,o,u){if(s.call(this,l,i,a,void 0,void 0,o,u),!r.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}return f.fromJSON=function(i,t){return new f(i,t.id,t.keyType,t.type,t.options,t.comment)},f.prototype.toJSON=function(i){var t=i?!!i.keepComments:!1;return r.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},f.prototype.resolve=function(){if(this.resolved)return this;if(e.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return s.prototype.resolve.call(this)},f.d=function(i,t,a){return typeof a=="function"?a=r.decorateType(a).name:a&&typeof a=="object"&&(a=r.decorateEnum(a).name),function(u,d){r.decorateType(u.constructor).add(new f(d,i,t,a))}},mapfield$1}var method$1,hasRequiredMethod$1;function requireMethod$1(){if(hasRequiredMethod$1)return method$1;hasRequiredMethod$1=1,method$1=r;var s=requireObject$1();((r.prototype=Object.create(s.prototype)).constructor=r).className="Method";var e=requireUtil$1();function r(f,l,i,t,a,o,u,d,c){if(e.isObject(a)?(u=a,a=o=void 0):e.isObject(o)&&(u=o,o=void 0),!(l===void 0||e.isString(l)))throw TypeError("type must be a string");if(!e.isString(i))throw TypeError("requestType must be a string");if(!e.isString(t))throw TypeError("responseType must be a string");s.call(this,f,u),this.type=l||"rpc",this.requestType=i,this.requestStream=a?!0:void 0,this.responseType=t,this.responseStream=o?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=d,this.parsedOptions=c}return r.fromJSON=function(l,i){return new r(l,i.type,i.requestType,i.responseType,i.requestStream,i.responseStream,i.options,i.comment,i.parsedOptions)},r.prototype.toJSON=function(l){var i=l?!!l.keepComments:!1;return e.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",i?this.comment:void 0,"parsedOptions",this.parsedOptions])},r.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),s.prototype.resolve.call(this))},method$1}var service$2,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$2;hasRequiredService$1=1,service$2=l;var s=requireNamespace$1();((l.prototype=Object.create(s.prototype)).constructor=l).className="Service";var e=requireMethod$1(),r=requireUtil$1(),f=rpc$1;function l(t,a){s.call(this,t,a),this.methods={},this._methodsArray=null}l.fromJSON=function(a,o){var u=new l(a,o.options);if(o.methods)for(var d=Object.keys(o.methods),c=0;c<d.length;++c)u.add(e.fromJSON(d[c],o.methods[d[c]]));return o.nested&&u.addJSON(o.nested),u.comment=o.comment,u},l.prototype.toJSON=function(a){var o=s.prototype.toJSON.call(this,a),u=a?!!a.keepComments:!1;return r.toObject(["options",o&&o.options||void 0,"methods",s.arrayToJSON(this.methodsArray,a)||{},"nested",o&&o.nested||void 0,"comment",u?this.comment:void 0])},Object.defineProperty(l.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=r.toArray(this.methods))}});function i(t){return t._methodsArray=null,t}return l.prototype.get=function(a){return this.methods[a]||s.prototype.get.call(this,a)},l.prototype.resolveAll=function(){for(var a=this.methodsArray,o=0;o<a.length;++o)a[o].resolve();return s.prototype.resolve.call(this)},l.prototype.add=function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);return a instanceof e?(this.methods[a.name]=a,a.parent=this,i(this)):s.prototype.add.call(this,a)},l.prototype.remove=function(a){if(a instanceof e){if(this.methods[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.methods[a.name],a.parent=null,i(this)}return s.prototype.remove.call(this,a)},l.prototype.create=function(a,o,u){for(var d=new f.Service(a,o,u),c=0,p;c<this.methodsArray.length;++c){var h=r.lcFirst((p=this._methodsArray[c]).resolve().name).replace(/[^$\w_]/g,"");d[h]=r.codegen(["r","c"],r.isReserved(h)?h+"_":h)("return this.rpcCall(m,q,s,r,c)")({m:p,q:p.resolvedRequestType.ctor,s:p.resolvedResponseType.ctor})}return d},service$2}var message$1=Message$1,util$9=requireMinimal$1();function Message$1(s){if(s)for(var e=Object.keys(s),r=0;r<e.length;++r)this[e[r]]=s[e[r]]}Message$1.create=function s(e){return this.$type.create(e)};Message$1.encode=function s(e,r){return this.$type.encode(e,r)};Message$1.encodeDelimited=function s(e,r){return this.$type.encodeDelimited(e,r)};Message$1.decode=function s(e){return this.$type.decode(e)};Message$1.decodeDelimited=function s(e){return this.$type.decodeDelimited(e)};Message$1.verify=function s(e){return this.$type.verify(e)};Message$1.fromObject=function s(e){return this.$type.fromObject(e)};Message$1.toObject=function s(e,r){return this.$type.toObject(e,r)};Message$1.prototype.toJSON=function s(){return this.$type.toObject(this,util$9.toJSONOptions)};var decoder_1$1,hasRequiredDecoder$1;function requireDecoder$1(){if(hasRequiredDecoder$1)return decoder_1$1;hasRequiredDecoder$1=1,decoder_1$1=l;var s=require_enum$1(),e=requireTypes$1(),r=requireUtil$1();function f(i){return"missing required '"+i.name+"'"}function l(i){var t=r.codegen(["r","l"],i.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(i.fieldsArray.filter(function(p){return p.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");i.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var a=0;a<i.fieldsArray.length;++a){var o=i._fieldsArray[a].resolve(),u=o.resolvedType instanceof s?"int32":o.type,d="m"+r.safeProp(o.name);t("case %i: {",o.id),o.map?(t("if(%s===util.emptyObject)",d)("%s={}",d)("var c2 = r.uint32()+r.pos"),e.defaults[o.keyType]!==void 0?t("k=%j",e.defaults[o.keyType]):t("k=null"),e.defaults[u]!==void 0?t("value=%j",e.defaults[u]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),e.basic[u]===void 0?t("value=types[%i].decode(r,r.uint32())",a):t("value=r.%s()",u),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),e.long[o.keyType]!==void 0?t('%s[typeof k==="object"?util.longToHash(k):k]=value',d):t("%s[k]=value",d)):o.repeated?(t("if(!(%s&&%s.length))",d,d)("%s=[]",d),e.packed[u]!==void 0&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",d,u)("}else"),e.basic[u]===void 0?t(o.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",d,a):t("%s.push(r.%s())",d,u)):e.basic[u]===void 0?t(o.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",d,a):t("%s=r.%s()",d,u),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),a=0;a<i._fieldsArray.length;++a){var c=i._fieldsArray[a];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",f(c))}return t("return m")}return decoder_1$1}var verifier_1$1,hasRequiredVerifier$1;function requireVerifier$1(){if(hasRequiredVerifier$1)return verifier_1$1;hasRequiredVerifier$1=1,verifier_1$1=i;var s=require_enum$1(),e=requireUtil$1();function r(t,a){return t.name+": "+a+(t.repeated&&a!=="array"?"[]":t.map&&a!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function f(t,a,o,u){if(a.resolvedType)if(a.resolvedType instanceof s){t("switch(%s){",u)("default:")("return%j",r(a,"enum value"));for(var d=Object.keys(a.resolvedType.values),c=0;c<d.length;++c)t("case %i:",a.resolvedType.values[d[c]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",o,u)("if(e)")("return%j+e",a.name+".")("}");else switch(a.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",u)("return%j",r(a,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",u,u,u,u)("return%j",r(a,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',u)("return%j",r(a,"number"));break;case"bool":t('if(typeof %s!=="boolean")',u)("return%j",r(a,"boolean"));break;case"string":t("if(!util.isString(%s))",u)("return%j",r(a,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',u,u,u)("return%j",r(a,"buffer"));break}return t}function l(t,a,o){switch(a.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",o)("return%j",r(a,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",o)("return%j",r(a,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",o)("return%j",r(a,"boolean key"));break}return t}function i(t){var a=e.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),o=t.oneofsArray,u={};o.length&&a("var p={}");for(var d=0;d<t.fieldsArray.length;++d){var c=t._fieldsArray[d].resolve(),p="m"+e.safeProp(c.name);if(c.optional&&a("if(%s!=null&&m.hasOwnProperty(%j)){",p,c.name),c.map)a("if(!util.isObject(%s))",p)("return%j",r(c,"object"))("var k=Object.keys(%s)",p)("for(var i=0;i<k.length;++i){"),l(a,c,"k[i]"),f(a,c,d,p+"[k[i]]")("}");else if(c.repeated)a("if(!Array.isArray(%s))",p)("return%j",r(c,"array"))("for(var i=0;i<%s.length;++i){",p),f(a,c,d,p+"[i]")("}");else{if(c.partOf){var h=e.safeProp(c.partOf.name);u[c.partOf.name]===1&&a("if(p%s===1)",h)("return%j",c.partOf.name+": multiple values"),u[c.partOf.name]=1,a("p%s=1",h)}f(a,c,d,p)}c.optional&&a("}")}return a("return null")}return verifier_1$1}var converter$1={},hasRequiredConverter$1;function requireConverter$1(){return hasRequiredConverter$1||(hasRequiredConverter$1=1,function(s){var e=s,r=require_enum$1(),f=requireUtil$1();function l(t,a,o,u){var d=!1;if(a.resolvedType)if(a.resolvedType instanceof r){t("switch(d%s){",u);for(var c=a.resolvedType.values,p=Object.keys(c),h=0;h<p.length;++h)c[p[h]]===a.typeDefault&&!d&&(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',u,u,u),a.repeated||t("break"),d=!0),t("case%j:",p[h])("case %i:",c[p[h]])("m%s=%j",u,c[p[h]])("break");t("}")}else t('if(typeof d%s!=="object")',u)("throw TypeError(%j)",a.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",u,o,u);else{var y=!1;switch(a.type){case"double":case"float":t("m%s=Number(d%s)",u,u);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",u,u);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",u,u);break;case"uint64":y=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",u,u,y)('else if(typeof d%s==="string")',u)("m%s=parseInt(d%s,10)",u,u)('else if(typeof d%s==="number")',u)("m%s=d%s",u,u)('else if(typeof d%s==="object")',u)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",u,u,u,y?"true":"");break;case"bytes":t('if(typeof d%s==="string")',u)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",u,u,u)("else if(d%s.length >= 0)",u)("m%s=d%s",u,u);break;case"string":t("m%s=String(d%s)",u,u);break;case"bool":t("m%s=Boolean(d%s)",u,u);break}}return t}e.fromObject=function(a){var o=a.fieldsArray,u=f.codegen(["d"],a.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!o.length)return u("return new this.ctor");u("var m=new this.ctor");for(var d=0;d<o.length;++d){var c=o[d].resolve(),p=f.safeProp(c.name);c.map?(u("if(d%s){",p)('if(typeof d%s!=="object")',p)("throw TypeError(%j)",c.fullName+": object expected")("m%s={}",p)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",p),l(u,c,d,p+"[ks[i]]")("}")("}")):c.repeated?(u("if(d%s){",p)("if(!Array.isArray(d%s))",p)("throw TypeError(%j)",c.fullName+": array expected")("m%s=[]",p)("for(var i=0;i<d%s.length;++i){",p),l(u,c,d,p+"[i]")("}")("}")):(c.resolvedType instanceof r||u("if(d%s!=null){",p),l(u,c,d,p),c.resolvedType instanceof r||u("}"))}return u("return m")};function i(t,a,o,u){if(a.resolvedType)a.resolvedType instanceof r?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",u,o,u,u,o,u,u):t("d%s=types[%i].toObject(m%s,o)",u,o,u);else{var d=!1;switch(a.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",u,u,u,u);break;case"uint64":d=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',u)("d%s=o.longs===String?String(m%s):m%s",u,u,u)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",u,u,u,u,d?"true":"",u);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",u,u,u,u,u);break;default:t("d%s=m%s",u,u);break}}return t}e.toObject=function(a){var o=a.fieldsArray.slice().sort(f.compareFieldsById);if(!o.length)return f.codegen()("return {}");for(var u=f.codegen(["m","o"],a.name+"$toObject")("if(!o)")("o={}")("var d={}"),d=[],c=[],p=[],h=0;h<o.length;++h)o[h].partOf||(o[h].resolve().repeated?d:o[h].map?c:p).push(o[h]);if(d.length){for(u("if(o.arrays||o.defaults){"),h=0;h<d.length;++h)u("d%s=[]",f.safeProp(d[h].name));u("}")}if(c.length){for(u("if(o.objects||o.defaults){"),h=0;h<c.length;++h)u("d%s={}",f.safeProp(c[h].name));u("}")}if(p.length){for(u("if(o.defaults){"),h=0;h<p.length;++h){var y=p[h],v=f.safeProp(y.name);if(y.resolvedType instanceof r)u("d%s=o.enums===String?%j:%j",v,y.resolvedType.valuesById[y.typeDefault],y.typeDefault);else if(y.long)u("if(util.Long){")("var n=new util.Long(%i,%i,%j)",y.typeDefault.low,y.typeDefault.high,y.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",v)("}else")("d%s=o.longs===String?%j:%i",v,y.typeDefault.toString(),y.typeDefault.toNumber());else if(y.bytes){var x="["+Array.prototype.slice.call(y.typeDefault).join(",")+"]";u("if(o.bytes===String)d%s=%j",v,String.fromCharCode.apply(String,y.typeDefault))("else{")("d%s=%s",v,x)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",v,v)("}")}else u("d%s=%j",v,y.typeDefault)}u("}")}var w=!1;for(h=0;h<o.length;++h){var y=o[h],m=a._fieldsArray.indexOf(y),v=f.safeProp(y.name);y.map?(w||(w=!0,u("var ks2")),u("if(m%s&&(ks2=Object.keys(m%s)).length){",v,v)("d%s={}",v)("for(var j=0;j<ks2.length;++j){"),i(u,y,m,v+"[ks2[j]]")("}")):y.repeated?(u("if(m%s&&m%s.length){",v,v)("d%s=[]",v)("for(var j=0;j<m%s.length;++j){",v),i(u,y,m,v+"[j]")("}")):(u("if(m%s!=null&&m.hasOwnProperty(%j)){",v,y.name),i(u,y,m,v),y.partOf&&u("if(o.oneofs)")("d%s=%j",f.safeProp(y.partOf.name),y.name)),u("}")}return u("return d")}}(converter$1)),converter$1}var wrappers$1={};(function(s){var e=s,r=message$1;e[".google.protobuf.Any"]={fromObject:function(f){if(f&&f["@type"]){var l=f["@type"].substring(f["@type"].lastIndexOf("/")+1),i=this.lookup(l);if(i){var t=f["@type"].charAt(0)==="."?f["@type"].slice(1):f["@type"];return t.indexOf("/")===-1&&(t="/"+t),this.create({type_url:t,value:i.encode(i.fromObject(f)).finish()})}}return this.fromObject(f)},toObject:function(f,l){var i="type.googleapis.com/",t="",a="";if(l&&l.json&&f.type_url&&f.value){a=f.type_url.substring(f.type_url.lastIndexOf("/")+1),t=f.type_url.substring(0,f.type_url.lastIndexOf("/")+1);var o=this.lookup(a);o&&(f=o.decode(f.value))}if(!(f instanceof this.ctor)&&f instanceof r){var u=f.$type.toObject(f,l),d=f.$type.fullName[0]==="."?f.$type.fullName.slice(1):f.$type.fullName;return t===""&&(t=i),a=t+d,u["@type"]=a,u}return this.toObject(f,l)}}})(wrappers$1);var type$1,hasRequiredType$1;function requireType$1(){if(hasRequiredType$1)return type$1;hasRequiredType$1=1,type$1=v;var s=requireNamespace$1();((v.prototype=Object.create(s.prototype)).constructor=v).className="Type";var e=require_enum$1(),r=requireOneof$1(),f=requireField$1(),l=requireMapfield$1(),i=requireService$1(),t=message$1,a=reader$1,o=writer$1,u=requireUtil$1(),d=requireEncoder$1(),c=requireDecoder$1(),p=requireVerifier$1(),h=requireConverter$1(),y=wrappers$1;function v(w,m){s.call(this,w,m),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var w=Object.keys(this.fields),m=0;m<w.length;++m){var $=this.fields[w[m]],b=$.id;if(this._fieldsById[b])throw Error("duplicate id "+b+" in "+this);this._fieldsById[b]=$}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=u.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=u.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(w){var m=w.prototype;m instanceof t||((w.prototype=new t).constructor=w,u.merge(w.prototype,m)),w.$type=w.prototype.$type=this,u.merge(w,t,!0),this._ctor=w;for(var $=0;$<this.fieldsArray.length;++$)this._fieldsArray[$].resolve();var b={};for($=0;$<this.oneofsArray.length;++$)b[this._oneofsArray[$].resolve().name]={get:u.oneOfGetter(this._oneofsArray[$].oneof),set:u.oneOfSetter(this._oneofsArray[$].oneof)};$&&Object.defineProperties(w.prototype,b)}}}),v.generateConstructor=function(m){for(var $=u.codegen(["p"],m.name),b=0,O;b<m.fieldsArray.length;++b)(O=m._fieldsArray[b]).map?$("this%s={}",u.safeProp(O.name)):O.repeated&&$("this%s=[]",u.safeProp(O.name));return $("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function x(w){return w._fieldsById=w._fieldsArray=w._oneofsArray=null,delete w.encode,delete w.decode,delete w.verify,w}return v.fromJSON=function(m,$){var b=new v(m,$.options);b.extensions=$.extensions,b.reserved=$.reserved;for(var O=Object.keys($.fields),S=0;S<O.length;++S)b.add((typeof $.fields[O[S]].keyType<"u"?l.fromJSON:f.fromJSON)(O[S],$.fields[O[S]]));if($.oneofs)for(O=Object.keys($.oneofs),S=0;S<O.length;++S)b.add(r.fromJSON(O[S],$.oneofs[O[S]]));if($.nested)for(O=Object.keys($.nested),S=0;S<O.length;++S){var E=$.nested[O[S]];b.add((E.id!==void 0?f.fromJSON:E.fields!==void 0?v.fromJSON:E.values!==void 0?e.fromJSON:E.methods!==void 0?i.fromJSON:s.fromJSON)(O[S],E))}return $.extensions&&$.extensions.length&&(b.extensions=$.extensions),$.reserved&&$.reserved.length&&(b.reserved=$.reserved),$.group&&(b.group=!0),$.comment&&(b.comment=$.comment),b},v.prototype.toJSON=function(m){var $=s.prototype.toJSON.call(this,m),b=m?!!m.keepComments:!1;return u.toObject(["options",$&&$.options||void 0,"oneofs",s.arrayToJSON(this.oneofsArray,m),"fields",s.arrayToJSON(this.fieldsArray.filter(function(O){return!O.declaringField}),m)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",$&&$.nested||void 0,"comment",b?this.comment:void 0])},v.prototype.resolveAll=function(){for(var m=this.fieldsArray,$=0;$<m.length;)m[$++].resolve();var b=this.oneofsArray;for($=0;$<b.length;)b[$++].resolve();return s.prototype.resolveAll.call(this)},v.prototype.get=function(m){return this.fields[m]||this.oneofs&&this.oneofs[m]||this.nested&&this.nested[m]||null},v.prototype.add=function(m){if(this.get(m.name))throw Error("duplicate name '"+m.name+"' in "+this);if(m instanceof f&&m.extend===void 0){if(this._fieldsById?this._fieldsById[m.id]:this.fieldsById[m.id])throw Error("duplicate id "+m.id+" in "+this);if(this.isReservedId(m.id))throw Error("id "+m.id+" is reserved in "+this);if(this.isReservedName(m.name))throw Error("name '"+m.name+"' is reserved in "+this);return m.parent&&m.parent.remove(m),this.fields[m.name]=m,m.message=this,m.onAdd(this),x(this)}return m instanceof r?(this.oneofs||(this.oneofs={}),this.oneofs[m.name]=m,m.onAdd(this),x(this)):s.prototype.add.call(this,m)},v.prototype.remove=function(m){if(m instanceof f&&m.extend===void 0){if(!this.fields||this.fields[m.name]!==m)throw Error(m+" is not a member of "+this);return delete this.fields[m.name],m.parent=null,m.onRemove(this),x(this)}if(m instanceof r){if(!this.oneofs||this.oneofs[m.name]!==m)throw Error(m+" is not a member of "+this);return delete this.oneofs[m.name],m.parent=null,m.onRemove(this),x(this)}return s.prototype.remove.call(this,m)},v.prototype.isReservedId=function(m){return s.isReservedId(this.reserved,m)},v.prototype.isReservedName=function(m){return s.isReservedName(this.reserved,m)},v.prototype.create=function(m){return new this.ctor(m)},v.prototype.setup=function(){for(var m=this.fullName,$=[],b=0;b<this.fieldsArray.length;++b)$.push(this._fieldsArray[b].resolve().resolvedType);this.encode=d(this)({Writer:o,types:$,util:u}),this.decode=c(this)({Reader:a,types:$,util:u}),this.verify=p(this)({types:$,util:u}),this.fromObject=h.fromObject(this)({types:$,util:u}),this.toObject=h.toObject(this)({types:$,util:u});var O=y[m];if(O){var S=Object.create(this);S.fromObject=this.fromObject,this.fromObject=O.fromObject.bind(S),S.toObject=this.toObject,this.toObject=O.toObject.bind(S)}return this},v.prototype.encode=function(m,$){return this.setup().encode(m,$)},v.prototype.encodeDelimited=function(m,$){return this.encode(m,$&&$.len?$.fork():$).ldelim()},v.prototype.decode=function(m,$){return this.setup().decode(m,$)},v.prototype.decodeDelimited=function(m){return m instanceof a||(m=a.create(m)),this.decode(m,m.uint32())},v.prototype.verify=function(m){return this.setup().verify(m)},v.prototype.fromObject=function(m){return this.setup().fromObject(m)},v.prototype.toObject=function(m,$){return this.setup().toObject(m,$)},v.d=function(m){return function(b){u.decorateType(b,m)}},type$1}var root$1,hasRequiredRoot$1;function requireRoot$1(){if(hasRequiredRoot$1)return root$1;hasRequiredRoot$1=1,root$1=o;var s=requireNamespace$1();((o.prototype=Object.create(s.prototype)).constructor=o).className="Root";var e=requireField$1(),r=require_enum$1(),f=requireOneof$1(),l=requireUtil$1(),i,t,a;function o(p){s.call(this,"",p),this.deferred=[],this.files=[]}o.fromJSON=function(h,y){return y||(y=new o),h.options&&y.setOptions(h.options),y.addJSON(h.nested)},o.prototype.resolvePath=l.path.resolve,o.prototype.fetch=l.fetch;function u(){}o.prototype.load=function p(h,y,v){typeof y=="function"&&(v=y,y=void 0);var x=this;if(!v)return l.asPromise(p,x,h,y);var w=v===u;function m(q,T){if(v){var B=v;if(v=null,w)throw q;B(q,T)}}function $(q){var T=q.lastIndexOf("google/protobuf/");if(T>-1){var B=q.substring(T);if(B in a)return B}return null}function b(q,T){try{if(l.isString(T)&&T.charAt(0)==="{"&&(T=JSON.parse(T)),!l.isString(T))x.setOptions(T.options).addJSON(T.nested);else{t.filename=q;var B=t(T,x,y),F,V=0;if(B.imports)for(;V<B.imports.length;++V)(F=$(B.imports[V])||x.resolvePath(q,B.imports[V]))&&O(F);if(B.weakImports)for(V=0;V<B.weakImports.length;++V)(F=$(B.weakImports[V])||x.resolvePath(q,B.weakImports[V]))&&O(F,!0)}}catch(U){m(U)}!w&&!S&&m(null,x)}function O(q,T){if(q=$(q)||q,!(x.files.indexOf(q)>-1)){if(x.files.push(q),q in a){w?b(q,a[q]):(++S,setTimeout(function(){--S,b(q,a[q])}));return}if(w){var B;try{B=l.fs.readFileSync(q).toString("utf8")}catch(F){T||m(F);return}b(q,B)}else++S,x.fetch(q,function(F,V){if(--S,!!v){if(F){T?S||m(null,x):m(F);return}b(q,V)}})}}var S=0;l.isString(h)&&(h=[h]);for(var E=0,C;E<h.length;++E)(C=x.resolvePath("",h[E]))&&O(C);if(w)return x;S||m(null,x)},o.prototype.loadSync=function(h,y){if(!l.isNode)throw Error("not supported");return this.load(h,y,u)},o.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(h){return"'extend "+h.extend+"' in "+h.parent.fullName}).join(", "));return s.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function c(p,h){var y=h.parent.lookup(h.extend);if(y){var v=new e(h.fullName,h.id,h.type,h.rule,void 0,h.options);return y.get(v.name)||(v.declaringField=h,h.extensionField=v,y.add(v)),!0}return!1}return o.prototype._handleAdd=function(h){if(h instanceof e)h.extend!==void 0&&!h.extensionField&&(c(this,h)||this.deferred.push(h));else if(h instanceof r)d.test(h.name)&&(h.parent[h.name]=h.values);else if(!(h instanceof f)){if(h instanceof i)for(var y=0;y<this.deferred.length;)c(this,this.deferred[y])?this.deferred.splice(y,1):++y;for(var v=0;v<h.nestedArray.length;++v)this._handleAdd(h._nestedArray[v]);d.test(h.name)&&(h.parent[h.name]=h)}},o.prototype._handleRemove=function(h){if(h instanceof e){if(h.extend!==void 0)if(h.extensionField)h.extensionField.parent.remove(h.extensionField),h.extensionField=null;else{var y=this.deferred.indexOf(h);y>-1&&this.deferred.splice(y,1)}}else if(h instanceof r)d.test(h.name)&&delete h.parent[h.name];else if(h instanceof s){for(var v=0;v<h.nestedArray.length;++v)this._handleRemove(h._nestedArray[v]);d.test(h.name)&&delete h.parent[h.name]}},o._configure=function(p,h,y){i=p,t=h,a=y},root$1}var hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util$a.exports;hasRequiredUtil$1=1;var s=util$a.exports=requireMinimal$1(),e=roots$1,r,f;s.codegen=requireCodegen(),s.fetch=requireFetch(),s.path=requirePath(),s.fs=s.inquire("fs"),s.toArray=function(u){if(u){for(var d=Object.keys(u),c=new Array(d.length),p=0;p<d.length;)c[p]=u[d[p++]];return c}return[]},s.toObject=function(u){for(var d={},c=0;c<u.length;){var p=u[c++],h=u[c++];h!==void 0&&(d[p]=h)}return d};var l=/\\/g,i=/"/g;s.isReserved=function(u){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(u)},s.safeProp=function(u){return!/^[$\w_]+$/.test(u)||s.isReserved(u)?'["'+u.replace(l,"\\\\").replace(i,'\\"')+'"]':"."+u},s.ucFirst=function(u){return u.charAt(0).toUpperCase()+u.substring(1)};var t=/_([a-z])/g;s.camelCase=function(u){return u.substring(0,1)+u.substring(1).replace(t,function(d,c){return c.toUpperCase()})},s.compareFieldsById=function(u,d){return u.id-d.id},s.decorateType=function(u,d){if(u.$type)return d&&u.$type.name!==d&&(s.decorateRoot.remove(u.$type),u.$type.name=d,s.decorateRoot.add(u.$type)),u.$type;r||(r=requireType$1());var c=new r(d||u.name);return s.decorateRoot.add(c),c.ctor=u,Object.defineProperty(u,"$type",{value:c,enumerable:!1}),Object.defineProperty(u.prototype,"$type",{value:c,enumerable:!1}),c};var a=0;return s.decorateEnum=function(u){if(u.$type)return u.$type;f||(f=require_enum$1());var d=new f("Enum"+a++,u);return s.decorateRoot.add(d),Object.defineProperty(u,"$type",{value:d,enumerable:!1}),d},s.setProperty=function(u,d,c){function p(h,y,v){var x=y.shift();if(x==="__proto__")return h;if(y.length>0)h[x]=p(h[x]||{},y,v);else{var w=h[x];w&&(v=[].concat(w).concat(v)),h[x]=v}return h}if(typeof u!="object")throw TypeError("dst must be an object");if(!d)throw TypeError("path must be specified");return d=d.split("."),p(u,d,c)},Object.defineProperty(s,"decorateRoot",{get:function(){return e.decorated||(e.decorated=new(requireRoot$1()))}}),util$a.exports}var object$1,hasRequiredObject$1;function requireObject$1(){if(hasRequiredObject$1)return object$1;hasRequiredObject$1=1,object$1=r,r.className="ReflectionObject";var s=requireUtil$1(),e;function r(f,l){if(!s.isString(f))throw TypeError("name must be a string");if(l&&!s.isObject(l))throw TypeError("options must be an object");this.options=l,this.parsedOptions=null,this.name=f,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(r.prototype,{root:{get:function(){for(var f=this;f.parent!==null;)f=f.parent;return f}},fullName:{get:function(){for(var f=[this.name],l=this.parent;l;)f.unshift(l.name),l=l.parent;return f.join(".")}}}),r.prototype.toJSON=function(){throw Error()},r.prototype.onAdd=function(l){this.parent&&this.parent!==l&&this.parent.remove(this),this.parent=l,this.resolved=!1;var i=l.root;i instanceof e&&i._handleAdd(this)},r.prototype.onRemove=function(l){var i=l.root;i instanceof e&&i._handleRemove(this),this.parent=null,this.resolved=!1},r.prototype.resolve=function(){return this.resolved?this:(this.root instanceof e&&(this.resolved=!0),this)},r.prototype.getOption=function(l){if(this.options)return this.options[l]},r.prototype.setOption=function(l,i,t){return(!t||!this.options||this.options[l]===void 0)&&((this.options||(this.options={}))[l]=i),this},r.prototype.setParsedOption=function(l,i,t){this.parsedOptions||(this.parsedOptions=[]);var a=this.parsedOptions;if(t){var o=a.find(function(c){return Object.prototype.hasOwnProperty.call(c,l)});if(o){var u=o[l];s.setProperty(u,t,i)}else o={},o[l]=s.setProperty({},t,i),a.push(o)}else{var d={};d[l]=i,a.push(d)}return this},r.prototype.setOptions=function(l,i){if(l)for(var t=Object.keys(l),a=0;a<t.length;++a)this.setOption(t[a],l[t[a]],i);return this},r.prototype.toString=function(){var l=this.constructor.className,i=this.fullName;return i.length?l+" "+i:l},r._configure=function(f){e=f},object$1}var _enum$1,hasRequired_enum$1;function require_enum$1(){if(hasRequired_enum$1)return _enum$1;hasRequired_enum$1=1,_enum$1=f;var s=requireObject$1();((f.prototype=Object.create(s.prototype)).constructor=f).className="Enum";var e=requireNamespace$1(),r=requireUtil$1();function f(l,i,t,a,o,u){if(s.call(this,l,t),i&&typeof i!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=a,this.comments=o||{},this.valuesOptions=u,this.reserved=void 0,i)for(var d=Object.keys(i),c=0;c<d.length;++c)typeof i[d[c]]=="number"&&(this.valuesById[this.values[d[c]]=i[d[c]]]=d[c])}return f.fromJSON=function(i,t){var a=new f(i,t.values,t.options,t.comment,t.comments);return a.reserved=t.reserved,a},f.prototype.toJSON=function(i){var t=i?!!i.keepComments:!1;return r.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},f.prototype.add=function(i,t,a,o){if(!r.isString(i))throw TypeError("name must be a string");if(!r.isInteger(t))throw TypeError("id must be an integer");if(this.values[i]!==void 0)throw Error("duplicate name '"+i+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(i))throw Error("name '"+i+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[i]=t}else this.valuesById[this.values[i]=t]=i;return o&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[i]=o||null),this.comments[i]=a||null,this},f.prototype.remove=function(i){if(!r.isString(i))throw TypeError("name must be a string");var t=this.values[i];if(t==null)throw Error("name '"+i+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[i],delete this.comments[i],this.valuesOptions&&delete this.valuesOptions[i],this},f.prototype.isReservedId=function(i){return e.isReservedId(this.reserved,i)},f.prototype.isReservedName=function(i){return e.isReservedName(this.reserved,i)},_enum$1}var encoder_1$1,hasRequiredEncoder$1;function requireEncoder$1(){if(hasRequiredEncoder$1)return encoder_1$1;hasRequiredEncoder$1=1,encoder_1$1=l;var s=require_enum$1(),e=requireTypes$1(),r=requireUtil$1();function f(i,t,a,o){return t.resolvedType.group?i("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",a,o,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):i("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",a,o,(t.id<<3|2)>>>0)}function l(i){for(var t=r.codegen(["m","w"],i.name+"$encode")("if(!w)")("w=Writer.create()"),a,o,u=i.fieldsArray.slice().sort(r.compareFieldsById),a=0;a<u.length;++a){var d=u[a].resolve(),c=i._fieldsArray.indexOf(d),p=d.resolvedType instanceof s?"int32":d.type,h=e.basic[p];o="m"+r.safeProp(d.name),d.map?(t("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",o,d.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",o)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(d.id<<3|2)>>>0,8|e.mapKey[d.keyType],d.keyType),h===void 0?t("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,o):t(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,p,o),t("}")("}")):d.repeated?(t("if(%s!=null&&%s.length){",o,o),d.packed&&e.packed[p]!==void 0?t("w.uint32(%i).fork()",(d.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",o)("w.%s(%s[i])",p,o)("w.ldelim()"):(t("for(var i=0;i<%s.length;++i)",o),h===void 0?f(t,d,c,o+"[i]"):t("w.uint32(%i).%s(%s[i])",(d.id<<3|h)>>>0,p,o)),t("}")):(d.optional&&t("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",o,d.name),h===void 0?f(t,d,c,o):t("w.uint32(%i).%s(%s)",(d.id<<3|h)>>>0,p,o))}return t("return w")}return encoder_1$1}var protobuf$4=indexLight$1.exports=indexMinimal$1;protobuf$4.build="light";function load$1(s,e,r){return typeof e=="function"?(r=e,e=new protobuf$4.Root):e||(e=new protobuf$4.Root),e.load(s,r)}protobuf$4.load=load$1;function loadSync$1(s,e){return e||(e=new protobuf$4.Root),e.loadSync(s)}protobuf$4.loadSync=loadSync$1;protobuf$4.encoder=requireEncoder$1();protobuf$4.decoder=requireDecoder$1();protobuf$4.verifier=requireVerifier$1();protobuf$4.converter=requireConverter$1();protobuf$4.ReflectionObject=requireObject$1();protobuf$4.Namespace=requireNamespace$1();protobuf$4.Root=requireRoot$1();protobuf$4.Enum=require_enum$1();protobuf$4.Type=requireType$1();protobuf$4.Field=requireField$1();protobuf$4.OneOf=requireOneof$1();protobuf$4.MapField=requireMapfield$1();protobuf$4.Service=requireService$1();protobuf$4.Method=requireMethod$1();protobuf$4.Message=message$1;protobuf$4.wrappers=wrappers$1;protobuf$4.types=requireTypes$1();protobuf$4.util=requireUtil$1();protobuf$4.ReflectionObject._configure(protobuf$4.Root);protobuf$4.Namespace._configure(protobuf$4.Type,protobuf$4.Service,protobuf$4.Enum);protobuf$4.Root._configure(protobuf$4.Type);protobuf$4.Field._configure(protobuf$4.Type);var indexLightExports$1=indexLight$1.exports,tokenize_1$1=tokenize$3,delimRe$1=/[\s{}=;:[\],'"()<>]/g,stringDoubleRe$1=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,stringSingleRe$1=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,setCommentRe$1=/^ *[*/]+ */,setCommentAltRe$1=/^\s*\*?\/*/,setCommentSplitRe$1=/\n/g,whitespaceRe$1=/\s/,unescapeRe$1=/\\(.?)/g,unescapeMap$1={0:"\0",r:"\r",n:`
`,t:"	"};function unescape$2(s){return s.replace(unescapeRe$1,function(e,r){switch(r){case"\\":case"":return r;default:return unescapeMap$1[r]||""}})}tokenize$3.unescape=unescape$2;function tokenize$3(s,e){s=s.toString();var r=0,f=s.length,l=1,i=0,t={},a=[],o=null;function u(b){return Error("illegal "+b+" (line "+l+")")}function d(){var b=o==="'"?stringSingleRe$1:stringDoubleRe$1;b.lastIndex=r-1;var O=b.exec(s);if(!O)throw u("string");return r=b.lastIndex,x(o),o=null,unescape$2(O[1])}function c(b){return s.charAt(b)}function p(b,O,S){var E={type:s.charAt(b++),lineEmpty:!1,leading:S},C;e?C=2:C=3;var q=b-C,T;do if(--q<0||(T=s.charAt(q))===`
`){E.lineEmpty=!0;break}while(T===" "||T==="	");for(var B=s.substring(b,O).split(setCommentSplitRe$1),F=0;F<B.length;++F)B[F]=B[F].replace(e?setCommentAltRe$1:setCommentRe$1,"").trim();E.text=B.join(`
`).trim(),t[l]=E,i=l}function h(b){var O=y(b),S=s.substring(b,O),E=/^\s*\/{1,2}/.test(S);return E}function y(b){for(var O=b;O<f&&c(O)!==`
`;)O++;return O}function v(){if(a.length>0)return a.shift();if(o)return d();var b,O,S,E,C,q=r===0;do{if(r===f)return null;for(b=!1;whitespaceRe$1.test(S=c(r));)if(S===`
`&&(q=!0,++l),++r===f)return null;if(c(r)==="/"){if(++r===f)throw u("comment");if(c(r)==="/")if(e){if(E=r,C=!1,h(r)){C=!0;do if(r=y(r),r===f||(r++,!q))break;while(h(r))}else r=Math.min(f,y(r)+1);C&&(p(E,r,q),q=!0),l++,b=!0}else{for(C=c(E=r+1)==="/";c(++r)!==`
`;)if(r===f)return null;++r,C&&(p(E,r-1,q),q=!0),++l,b=!0}else if((S=c(r))==="*"){E=r+1,C=e||c(E)==="*";do{if(S===`
`&&++l,++r===f)throw u("comment");O=S,S=c(r)}while(O!=="*"||S!=="/");++r,C&&(p(E,r-2,q),q=!0),b=!0}else return"/"}}while(b);var T=r;delimRe$1.lastIndex=0;var B=delimRe$1.test(c(T++));if(!B)for(;T<f&&!delimRe$1.test(c(T));)++T;var F=s.substring(r,r=T);return(F==='"'||F==="'")&&(o=F),F}function x(b){a.push(b)}function w(){if(!a.length){var b=v();if(b===null)return null;x(b)}return a[0]}function m(b,O){var S=w(),E=S===b;if(E)return v(),!0;if(!O)throw u("token '"+S+"', '"+b+"' expected");return!1}function $(b){var O=null,S;return b===void 0?(S=t[l-1],delete t[l-1],S&&(e||S.type==="*"||S.lineEmpty)&&(O=S.leading?S.text:null)):(i<b&&w(),S=t[b],delete t[b],S&&!S.lineEmpty&&(e||S.type==="/")&&(O=S.leading?null:S.text)),O}return Object.defineProperty({next:v,peek:w,push:x,skip:m,cmnt:$},"line",{get:function(){return l}})}var parse_1$1=parse$1;parse$1.filename=null;parse$1.defaults={keepCase:!1};var tokenize$2=tokenize_1$1,Root$2=requireRoot$1(),Type$2=requireType$1(),Field$1=requireField$1(),MapField$2=requireMapfield$1(),OneOf$1=requireOneof$1(),Enum$3=require_enum$1(),Service$4=requireService$1(),Method$1=requireMethod$1(),types$2=requireTypes$1(),util$8=requireUtil$1(),base10Re$1=/^[1-9][0-9]*$/,base10NegRe$1=/^-?[1-9][0-9]*$/,base16Re$1=/^0[x][0-9a-fA-F]+$/,base16NegRe$1=/^-?0[x][0-9a-fA-F]+$/,base8Re$1=/^0[0-7]+$/,base8NegRe$1=/^-?0[0-7]+$/,numberRe$1=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,nameRe$1=/^[a-zA-Z_][a-zA-Z_0-9]*$/,typeRefRe$1=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,fqTypeRefRe$1=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function parse$1(s,e,r){e instanceof Root$2||(r=e,e=new Root$2),r||(r=parse$1.defaults);var f=r.preferTrailingComment||!1,l=tokenize$2(s,r.alternateCommentMode||!1),i=l.next,t=l.push,a=l.peek,o=l.skip,u=l.cmnt,d=!0,c,p,h,y,v=!1,x=e,w=r.keepCase?function(g){return g}:util$8.camelCase;function m(g,_,R){var k=parse$1.filename;return R||(parse$1.filename=null),Error("illegal "+(_||"token")+" '"+g+"' ("+(k?k+", ":"")+"line "+l.line+")")}function $(){var g=[],_;do{if((_=i())!=='"'&&_!=="'")throw m(_);g.push(i()),o(_),_=a()}while(_==='"'||_==="'");return g.join("")}function b(g){var _=i();switch(_){case"'":case'"':return t(_),$();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return S(_,!0)}catch{if(g&&typeRefRe$1.test(_))return _;throw m(_,"value")}}function O(g,_){var R,k;do _&&((R=a())==='"'||R==="'")?g.push($()):g.push([k=E(i()),o("to",!0)?E(i()):k]);while(o(",",!0));o(";")}function S(g,_){var R=1;switch(g.charAt(0)==="-"&&(R=-1,g=g.substring(1)),g){case"inf":case"INF":case"Inf":return R*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(base10Re$1.test(g))return R*parseInt(g,10);if(base16Re$1.test(g))return R*parseInt(g,16);if(base8Re$1.test(g))return R*parseInt(g,8);if(numberRe$1.test(g))return R*parseFloat(g);throw m(g,"number",_)}function E(g,_){switch(g){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!_&&g.charAt(0)==="-")throw m(g,"id");if(base10NegRe$1.test(g))return parseInt(g,10);if(base16NegRe$1.test(g))return parseInt(g,16);if(base8NegRe$1.test(g))return parseInt(g,8);throw m(g,"id")}function C(){if(c!==void 0)throw m("package");if(c=i(),!typeRefRe$1.test(c))throw m(c,"name");x=x.define(c),o(";")}function q(){var g=a(),_;switch(g){case"weak":_=h||(h=[]),i();break;case"public":i();default:_=p||(p=[]);break}g=$(),o(";"),_.push(g)}function T(){if(o("="),y=$(),v=y==="proto3",!v&&y!=="proto2")throw m(y,"syntax");o(";")}function B(g,_){switch(_){case"option":return H(g,_),o(";"),!0;case"message":return V(g,_),!0;case"enum":return Z(g,_),!0;case"service":return I(g,_),!0;case"extend":return W(g,_),!0}return!1}function F(g,_,R){var k=l.line;if(g&&(typeof g.comment!="string"&&(g.comment=u()),g.filename=parse$1.filename),o("{",!0)){for(var A;(A=i())!=="}";)_(A);o(";",!0)}else R&&R(),o(";"),g&&(typeof g.comment!="string"||f)&&(g.comment=u(k)||g.comment)}function V(g,_){if(!nameRe$1.test(_=i()))throw m(_,"type name");var R=new Type$2(_);F(R,function(A){if(!B(R,A))switch(A){case"map":te(R);break;case"required":case"repeated":U(R,A);break;case"optional":v?U(R,"proto3_optional"):U(R,"optional");break;case"oneof":re(R,A);break;case"extensions":O(R.extensions||(R.extensions=[]));break;case"reserved":O(R.reserved||(R.reserved=[]),!0);break;default:if(!v||!typeRefRe$1.test(A))throw m(A);t(A),U(R,"optional");break}}),g.add(R)}function U(g,_,R){var k=i();if(k==="group"){ee(g,_);return}for(;k.endsWith(".")||a().startsWith(".");)k+=i();if(!typeRefRe$1.test(k))throw m(k,"type");var A=i();if(!nameRe$1.test(A))throw m(A,"name");A=w(A),o("=");var N=new Field$1(A,E(i()),k,_,R);if(F(N,function(z){if(z==="option")H(N,z),o(";");else throw m(z)},function(){M(N)}),_==="proto3_optional"){var J=new OneOf$1("_"+A);N.setOption("proto3_optional",!0),J.add(N),g.add(J)}else g.add(N);!v&&N.repeated&&(types$2.packed[k]!==void 0||types$2.basic[k]===void 0)&&N.setOption("packed",!1,!0)}function ee(g,_){var R=i();if(!nameRe$1.test(R))throw m(R,"name");var k=util$8.lcFirst(R);R===k&&(R=util$8.ucFirst(R)),o("=");var A=E(i()),N=new Type$2(R);N.group=!0;var J=new Field$1(k,A,R,_);J.filename=parse$1.filename,F(N,function(z){switch(z){case"option":H(N,z),o(";");break;case"required":case"repeated":U(N,z);break;case"optional":v?U(N,"proto3_optional"):U(N,"optional");break;case"message":V(N,z);break;case"enum":Z(N,z);break;default:throw m(z)}}),g.add(N).add(J)}function te(g){o("<");var _=i();if(types$2.mapKey[_]===void 0)throw m(_,"type");o(",");var R=i();if(!typeRefRe$1.test(R))throw m(R,"type");o(">");var k=i();if(!nameRe$1.test(k))throw m(k,"name");o("=");var A=new MapField$2(w(k),E(i()),_,R);F(A,function(J){if(J==="option")H(A,J),o(";");else throw m(J)},function(){M(A)}),g.add(A)}function re(g,_){if(!nameRe$1.test(_=i()))throw m(_,"name");var R=new OneOf$1(w(_));F(R,function(A){A==="option"?(H(R,A),o(";")):(t(A),U(R,"optional"))}),g.add(R)}function Z(g,_){if(!nameRe$1.test(_=i()))throw m(_,"name");var R=new Enum$3(_);F(R,function(A){switch(A){case"option":H(R,A),o(";");break;case"reserved":O(R.reserved||(R.reserved=[]),!0);break;default:Y(R,A)}}),g.add(R)}function Y(g,_){if(!nameRe$1.test(_))throw m(_,"name");o("=");var R=E(i(),!0),k={options:void 0};k.setOption=function(A,N){this.options===void 0&&(this.options={}),this.options[A]=N},F(k,function(N){if(N==="option")H(k,N),o(";");else throw m(N)},function(){M(k)}),g.add(_,R,k.comment,k.options)}function H(g,_){var R=o("(",!0);if(!typeRefRe$1.test(_=i()))throw m(_,"name");var k=_,A=k,N;R&&(o(")"),k="("+k+")",A=k,_=a(),fqTypeRefRe$1.test(_)&&(N=_.slice(1),k+=_,i())),o("=");var J=X(g,k);L(g,A,J,N)}function X(g,_){if(o("{",!0)){for(var R={};!o("}",!0);){if(!nameRe$1.test(j=i()))throw m(j,"name");var k,A=j;if(o(":",!0),a()==="{")k=X(g,_+"."+j);else if(a()==="["){k=[];var N;if(o("[",!0)){do N=b(!0),k.push(N);while(o(",",!0));o("]"),typeof N<"u"&&P(g,_+"."+j,N)}}else k=b(!0),P(g,_+"."+j,k);var J=R[A];J&&(k=[].concat(J).concat(k)),R[A]=k,o(",",!0),o(";",!0)}return R}var G=b(!0);return P(g,_,G),G}function P(g,_,R){g.setOption&&g.setOption(_,R)}function L(g,_,R,k){g.setParsedOption&&g.setParsedOption(_,R,k)}function M(g){if(o("[",!0)){do H(g,"option");while(o(",",!0));o("]")}return g}function I(g,_){if(!nameRe$1.test(_=i()))throw m(_,"service name");var R=new Service$4(_);F(R,function(A){if(!B(R,A))if(A==="rpc")D(R,A);else throw m(A)}),g.add(R)}function D(g,_){var R=u(),k=_;if(!nameRe$1.test(_=i()))throw m(_,"name");var A=_,N,J,G,z;if(o("("),o("stream",!0)&&(J=!0),!typeRefRe$1.test(_=i())||(N=_,o(")"),o("returns"),o("("),o("stream",!0)&&(z=!0),!typeRefRe$1.test(_=i())))throw m(_);G=_,o(")");var K=new Method$1(A,k,N,G,J,z);K.comment=R,F(K,function(Q){if(Q==="option")H(K,Q),o(";");else throw m(Q)}),g.add(K)}function W(g,_){if(!typeRefRe$1.test(_=i()))throw m(_,"reference");var R=_;F(null,function(A){switch(A){case"required":case"repeated":U(g,A,R);break;case"optional":v?U(g,"proto3_optional",R):U(g,"optional",R);break;default:if(!v||!typeRefRe$1.test(A))throw m(A);t(A),U(g,"optional",R);break}})}for(var j;(j=i())!==null;)switch(j){case"package":if(!d)throw m(j);C();break;case"import":if(!d)throw m(j);q();break;case"syntax":if(!d)throw m(j);T();break;case"option":H(x,j),o(";");break;default:if(B(x,j)){d=!1;continue}throw m(j)}return parse$1.filename=null,{package:c,imports:p,weakImports:h,syntax:y,root:e}}var common_1$1=common$1,commonRe$1=/\/|\./;function common$1(s,e){commonRe$1.test(s)||(s="google/protobuf/"+s+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),common$1[s]=e}common$1("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var timeType$1;common$1("duration",{Duration:timeType$1={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});common$1("timestamp",{Timestamp:timeType$1});common$1("empty",{Empty:{fields:{}}});common$1("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});common$1("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});common$1("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});common$1.get=function s(e){return common$1[e]||null};var protobuf$3=src$1.exports=indexLightExports$1;protobuf$3.build="full";protobuf$3.tokenize=tokenize_1$1;protobuf$3.parse=parse_1$1;protobuf$3.common=common_1$1;protobuf$3.Root._configure(protobuf$3.Type,protobuf$3.parse,protobuf$3.common);var srcExports$1=src$1.exports,protobufjs$2=srcExports$1;const protobuf$2=getDefaultExportFromCjs(protobufjs$2),{Service:Service$3,MapField:MapField$1,Enum:Enum$2}=protobuf$2;function _getAllMethods(s){const e=s.nestedArray.find(r=>r instanceof Service$3);return e?s.lookupService(e.name).methods:null}function getAllMethods(s){const e=protobuf$2.parse(s,{keepCase:!0,alternateCommentMode:!0});if(e.package){const r=e.root.lookup(e.package);if(r)return _getAllMethods(r)}return _getAllMethods(e.root)}function mockScalar(s){switch(s){case"string":return"Hello";case"number":return 10;case"bool":return!0;case"int32":return 10;case"int64":return"20";case"uint32":return 100;case"uint64":return"100";case"sint32":return 100;case"sint64":return"-1200";case"fixed32":return 1400;case"fixed64":return"1500";case"sfixed32":return 1600;case"sfixed64":return"-1700";case"double":return 1.4;case"float":return 1.1;case"bytes":return new Buffer("Hello");default:return null}}function mockType(s,e){const r=s.lookupTypeOrEnum(e);return r instanceof Enum$2?Object.values(r.values)[0]:r.fieldsArray&&r.fieldsArray.reduce((l,i)=>{if(i instanceof MapField$1){const o=mockScalar(i.keyType),u=mockScalar(i.type),d=u?{[i.name]:{[o]:u}}:{[i.name]:{[o]:mockType(s,i.type)}};return{...l,...d}}if(i.repeated){const o=mockScalar(i.type),u=o?{[i.name]:[o]}:{[i.name]:[mockType(s,i.type)]};return{...l,...u}}const t=mockScalar(i.type),a=t?{[i.name]:t}:{[i.name]:mockType(s,i.type)};return{...l,...a}},{})}function _mockResponse(s,e){const r=s.nestedArray.find(t=>t instanceof Service$3);if(!r)return null;const f=s.lookupService(r.name),{responseType:l}=f.methods[e];return mockType(s,l)}function mockResponse(s,e){const r=protobuf$2.parse(s,{keepCase:!0,alternateCommentMode:!0});if(r.package){const f=r.root.lookup(r.package);if(f)return _mockResponse(f,e)}return _mockResponse(r.root,e)}var sourcemapCodec_umd={exports:{}};(function(s,e){(function(r,f){f(e)})(commonjsGlobal,function(r){const f=",".charCodeAt(0),l=";".charCodeAt(0),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(64),a=new Uint8Array(128);for(let w=0;w<i.length;w++){const m=i.charCodeAt(w);t[w]=m,a[m]=w}const o=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode(w){return Buffer.from(w.buffer,w.byteOffset,w.byteLength).toString()}}:{decode(w){let m="";for(let $=0;$<w.length;$++)m+=String.fromCharCode(w[$]);return m}};function u(w){const m=new Int32Array(5),$=[];let b=0;do{const O=d(w,b),S=[];let E=!0,C=0;m[0]=0;for(let q=b;q<O;q++){let T;q=c(w,q,m,0);const B=m[0];B<C&&(E=!1),C=B,p(w,q,O)?(q=c(w,q,m,1),q=c(w,q,m,2),q=c(w,q,m,3),p(w,q,O)?(q=c(w,q,m,4),T=[B,m[1],m[2],m[3],m[4]]):T=[B,m[1],m[2],m[3]]):T=[B],S.push(T)}E||h(S),$.push(S),b=O+1}while(b<=w.length);return $}function d(w,m){const $=w.indexOf(";",m);return $===-1?w.length:$}function c(w,m,$,b){let O=0,S=0,E=0;do{const q=w.charCodeAt(m++);E=a[q],O|=(E&31)<<S,S+=5}while(E&32);const C=O&1;return O>>>=1,C&&(O=-2147483648|-O),$[b]+=O,m}function p(w,m,$){return m>=$?!1:w.charCodeAt(m)!==f}function h(w){w.sort(y)}function y(w,m){return w[0]-m[0]}function v(w){const m=new Int32Array(5),$=1024*16,b=$-36,O=new Uint8Array($),S=O.subarray(0,b);let E=0,C="";for(let q=0;q<w.length;q++){const T=w[q];if(q>0&&(E===$&&(C+=o.decode(O),E=0),O[E++]=l),T.length!==0){m[0]=0;for(let B=0;B<T.length;B++){const F=T[B];E>b&&(C+=o.decode(S),O.copyWithin(0,b,E),E-=b),B>0&&(O[E++]=f),E=x(O,E,m,F,0),F.length!==1&&(E=x(O,E,m,F,1),E=x(O,E,m,F,2),E=x(O,E,m,F,3),F.length!==4&&(E=x(O,E,m,F,4)))}}}return C+o.decode(O.subarray(0,E))}function x(w,m,$,b,O){const S=b[O];let E=S-$[O];$[O]=S,E=E<0?-E<<1|1:E<<1;do{let C=E&31;E>>>=5,E>0&&(C|=32),w[m++]=t[C]}while(E>0);return m}r.decode=u,r.encode=v,Object.defineProperty(r,"__esModule",{value:!0})})})(sourcemapCodec_umd,sourcemapCodec_umd.exports);var sourcemapCodec_umdExports=sourcemapCodec_umd.exports;class BitSet{constructor(e){this.bits=e instanceof BitSet?e.bits.slice():[]}add(e){this.bits[e>>5]|=1<<(e&31)}has(e){return!!(this.bits[e>>5]&1<<(e&31))}}class Chunk{constructor(e,r,f){this.start=e,this.end=r,this.original=f,this.intro="",this.outro="",this.content=f,this.storeName=!1,this.edited=!1,this.previous=null,this.next=null}appendLeft(e){this.outro+=e}appendRight(e){this.intro=this.intro+e}clone(){const e=new Chunk(this.start,this.end,this.original);return e.intro=this.intro,e.outro=this.outro,e.content=this.content,e.storeName=this.storeName,e.edited=this.edited,e}contains(e){return this.start<e&&e<this.end}eachNext(e){let r=this;for(;r;)e(r),r=r.next}eachPrevious(e){let r=this;for(;r;)e(r),r=r.previous}edit(e,r,f){return this.content=e,f||(this.intro="",this.outro=""),this.storeName=r,this.edited=!0,this}prependLeft(e){this.outro=e+this.outro}prependRight(e){this.intro=e+this.intro}split(e){const r=e-this.start,f=this.original.slice(0,r),l=this.original.slice(r);this.original=f;const i=new Chunk(e,this.end,l);return i.outro=this.outro,this.outro="",this.end=e,this.edited?(i.edit("",!1),this.content=""):this.content=f,i.next=this.next,i.next&&(i.next.previous=i),i.previous=this,this.next=i,i}toString(){return this.intro+this.content+this.outro}trimEnd(e){if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;const r=this.content.replace(e,"");if(r.length)return r!==this.content&&this.split(this.start+r.length).edit("",void 0,!0),!0;if(this.edit("",void 0,!0),this.intro=this.intro.replace(e,""),this.intro.length)return!0}trimStart(e){if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;const r=this.content.replace(e,"");if(r.length)return r!==this.content&&(this.split(this.end-r.length),this.edit("",void 0,!0)),!0;if(this.edit("",void 0,!0),this.outro=this.outro.replace(e,""),this.outro.length)return!0}}function getBtoa(){return typeof window<"u"&&typeof window.btoa=="function"?s=>window.btoa(unescape(encodeURIComponent(s))):typeof Buffer=="function"?s=>Buffer.from(s,"utf-8").toString("base64"):()=>{throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")}}const btoa=getBtoa();class SourceMap{constructor(e){this.version=3,this.file=e.file,this.sources=e.sources,this.sourcesContent=e.sourcesContent,this.names=e.names,this.mappings=sourcemapCodec_umdExports.encode(e.mappings),typeof e.x_google_ignoreList<"u"&&(this.x_google_ignoreList=e.x_google_ignoreList)}toString(){return JSON.stringify(this)}toUrl(){return"data:application/json;charset=utf-8;base64,"+btoa(this.toString())}}function guessIndent(s){const e=s.split(`
`),r=e.filter(i=>/^\t+/.test(i)),f=e.filter(i=>/^ {2,}/.test(i));if(r.length===0&&f.length===0)return null;if(r.length>=f.length)return"	";const l=f.reduce((i,t)=>{const a=/^ +/.exec(t)[0].length;return Math.min(a,i)},1/0);return new Array(l+1).join(" ")}function getRelativePath(s,e){const r=s.split(/[/\\]/),f=e.split(/[/\\]/);for(r.pop();r[0]===f[0];)r.shift(),f.shift();if(r.length){let l=r.length;for(;l--;)r[l]=".."}return r.concat(f).join("/")}const toString=Object.prototype.toString;function isObject(s){return toString.call(s)==="[object Object]"}function getLocator(s){const e=s.split(`
`),r=[];for(let f=0,l=0;f<e.length;f++)r.push(l),l+=e[f].length+1;return function(l){let i=0,t=r.length;for(;i<t;){const u=i+t>>1;l<r[u]?t=u:i=u+1}const a=i-1,o=l-r[a];return{line:a,column:o}}}class Mappings{constructor(e){this.hires=e,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null}addEdit(e,r,f,l){if(r.length){const i=[this.generatedCodeColumn,e,f.line,f.column];l>=0&&i.push(l),this.rawSegments.push(i)}else this.pending&&this.rawSegments.push(this.pending);this.advance(r),this.pending=null}addUneditedChunk(e,r,f,l,i){let t=r.start,a=!0;for(;t<r.end;)(this.hires||a||i.has(t))&&this.rawSegments.push([this.generatedCodeColumn,e,l.line,l.column]),f[t]===`
`?(l.line+=1,l.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,a=!0):(l.column+=1,this.generatedCodeColumn+=1,a=!1),t+=1;this.pending=null}advance(e){if(!e)return;const r=e.split(`
`);if(r.length>1){for(let f=0;f<r.length-1;f++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=r[r.length-1].length}}const n=`
`,warned={insertLeft:!1,insertRight:!1,storeName:!1};class MagicString{constructor(e,r={}){const f=new Chunk(0,e.length,e);Object.defineProperties(this,{original:{writable:!0,value:e},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:f},lastChunk:{writable:!0,value:f},lastSearchedChunk:{writable:!0,value:f},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:r.filename},indentExclusionRanges:{writable:!0,value:r.indentExclusionRanges},sourcemapLocations:{writable:!0,value:new BitSet},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:void 0},ignoreList:{writable:!0,value:r.ignoreList}}),this.byStart[0]=f,this.byEnd[e.length]=f}addSourcemapLocation(e){this.sourcemapLocations.add(e)}append(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.outro+=e,this}appendLeft(e,r){if(typeof r!="string")throw new TypeError("inserted content must be a string");this._split(e);const f=this.byEnd[e];return f?f.appendLeft(r):this.intro+=r,this}appendRight(e,r){if(typeof r!="string")throw new TypeError("inserted content must be a string");this._split(e);const f=this.byStart[e];return f?f.appendRight(r):this.outro+=r,this}clone(){const e=new MagicString(this.original,{filename:this.filename});let r=this.firstChunk,f=e.firstChunk=e.lastSearchedChunk=r.clone();for(;r;){e.byStart[f.start]=f,e.byEnd[f.end]=f;const l=r.next,i=l&&l.clone();i&&(f.next=i,i.previous=f,f=i),r=l}return e.lastChunk=f,this.indentExclusionRanges&&(e.indentExclusionRanges=this.indentExclusionRanges.slice()),e.sourcemapLocations=new BitSet(this.sourcemapLocations),e.intro=this.intro,e.outro=this.outro,e}generateDecodedMap(e){e=e||{};const r=0,f=Object.keys(this.storedNames),l=new Mappings(e.hires),i=getLocator(this.original);return this.intro&&l.advance(this.intro),this.firstChunk.eachNext(t=>{const a=i(t.start);t.intro.length&&l.advance(t.intro),t.edited?l.addEdit(r,t.content,a,t.storeName?f.indexOf(t.original):-1):l.addUneditedChunk(r,t,this.original,a,this.sourcemapLocations),t.outro.length&&l.advance(t.outro)}),{file:e.file?e.file.split(/[/\\]/).pop():void 0,sources:[e.source?getRelativePath(e.file||"",e.source):e.file||""],sourcesContent:e.includeContent?[this.original]:void 0,names:f,mappings:l.raw,x_google_ignoreList:this.ignoreList?[r]:void 0}}generateMap(e){return new SourceMap(this.generateDecodedMap(e))}_ensureindentStr(){this.indentStr===void 0&&(this.indentStr=guessIndent(this.original))}_getRawIndentString(){return this._ensureindentStr(),this.indentStr}getIndentString(){return this._ensureindentStr(),this.indentStr===null?"	":this.indentStr}indent(e,r){const f=/^[^\r\n]/gm;if(isObject(e)&&(r=e,e=void 0),e===void 0&&(this._ensureindentStr(),e=this.indentStr||"	"),e==="")return this;r=r||{};const l={};r.exclude&&(typeof r.exclude[0]=="number"?[r.exclude]:r.exclude).forEach(d=>{for(let c=d[0];c<d[1];c+=1)l[c]=!0});let i=r.indentStart!==!1;const t=u=>i?`${e}${u}`:(i=!0,u);this.intro=this.intro.replace(f,t);let a=0,o=this.firstChunk;for(;o;){const u=o.end;if(o.edited)l[a]||(o.content=o.content.replace(f,t),o.content.length&&(i=o.content[o.content.length-1]===`
`));else for(a=o.start;a<u;){if(!l[a]){const d=this.original[a];d===`
`?i=!0:d!=="\r"&&i&&(i=!1,a===o.start||(this._splitChunk(o,a),o=o.next),o.prependRight(e))}a+=1}a=o.end,o=o.next}return this.outro=this.outro.replace(f,t),this}insert(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")}insertLeft(e,r){return warned.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),warned.insertLeft=!0),this.appendLeft(e,r)}insertRight(e,r){return warned.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),warned.insertRight=!0),this.prependRight(e,r)}move(e,r,f){if(f>=e&&f<=r)throw new Error("Cannot move a selection inside itself");this._split(e),this._split(r),this._split(f);const l=this.byStart[e],i=this.byEnd[r],t=l.previous,a=i.next,o=this.byStart[f];if(!o&&i===this.lastChunk)return this;const u=o?o.previous:this.lastChunk;return t&&(t.next=a),a&&(a.previous=t),u&&(u.next=l),o&&(o.previous=i),l.previous||(this.firstChunk=i.next),i.next||(this.lastChunk=l.previous,this.lastChunk.next=null),l.previous=u,i.next=o||null,u||(this.firstChunk=l),o||(this.lastChunk=i),this}overwrite(e,r,f,l){return l=l||{},this.update(e,r,f,{...l,overwrite:!l.contentOnly})}update(e,r,f,l){if(typeof f!="string")throw new TypeError("replacement content must be a string");for(;e<0;)e+=this.original.length;for(;r<0;)r+=this.original.length;if(r>this.original.length)throw new Error("end is out of bounds");if(e===r)throw new Error("Cannot overwrite a zero-length range  use appendLeft or prependRight instead");this._split(e),this._split(r),l===!0&&(warned.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),warned.storeName=!0),l={storeName:!0});const i=l!==void 0?l.storeName:!1,t=l!==void 0?l.overwrite:!1;if(i){const u=this.original.slice(e,r);Object.defineProperty(this.storedNames,u,{writable:!0,value:!0,enumerable:!0})}const a=this.byStart[e],o=this.byEnd[r];if(a){let u=a;for(;u!==o;){if(u.next!==this.byStart[u.end])throw new Error("Cannot overwrite across a split point");u=u.next,u.edit("",!1)}a.edit(f,i,!t)}else{const u=new Chunk(e,r,"").edit(f,i);o.next=u,u.previous=o}return this}prepend(e){if(typeof e!="string")throw new TypeError("outro content must be a string");return this.intro=e+this.intro,this}prependLeft(e,r){if(typeof r!="string")throw new TypeError("inserted content must be a string");this._split(e);const f=this.byEnd[e];return f?f.prependLeft(r):this.intro=r+this.intro,this}prependRight(e,r){if(typeof r!="string")throw new TypeError("inserted content must be a string");this._split(e);const f=this.byStart[e];return f?f.prependRight(r):this.outro=r+this.outro,this}remove(e,r){for(;e<0;)e+=this.original.length;for(;r<0;)r+=this.original.length;if(e===r)return this;if(e<0||r>this.original.length)throw new Error("Character is out of bounds");if(e>r)throw new Error("end must be greater than start");this._split(e),this._split(r);let f=this.byStart[e];for(;f;)f.intro="",f.outro="",f.edit(""),f=r>f.end?this.byStart[f.end]:null;return this}lastChar(){if(this.outro.length)return this.outro[this.outro.length-1];let e=this.lastChunk;do{if(e.outro.length)return e.outro[e.outro.length-1];if(e.content.length)return e.content[e.content.length-1];if(e.intro.length)return e.intro[e.intro.length-1]}while(e=e.previous);return this.intro.length?this.intro[this.intro.length-1]:""}lastLine(){let e=this.outro.lastIndexOf(n);if(e!==-1)return this.outro.substr(e+1);let r=this.outro,f=this.lastChunk;do{if(f.outro.length>0){if(e=f.outro.lastIndexOf(n),e!==-1)return f.outro.substr(e+1)+r;r=f.outro+r}if(f.content.length>0){if(e=f.content.lastIndexOf(n),e!==-1)return f.content.substr(e+1)+r;r=f.content+r}if(f.intro.length>0){if(e=f.intro.lastIndexOf(n),e!==-1)return f.intro.substr(e+1)+r;r=f.intro+r}}while(f=f.previous);return e=this.intro.lastIndexOf(n),e!==-1?this.intro.substr(e+1)+r:this.intro+r}slice(e=0,r=this.original.length){for(;e<0;)e+=this.original.length;for(;r<0;)r+=this.original.length;let f="",l=this.firstChunk;for(;l&&(l.start>e||l.end<=e);){if(l.start<r&&l.end>=r)return f;l=l.next}if(l&&l.edited&&l.start!==e)throw new Error(`Cannot use replaced character ${e} as slice start anchor.`);const i=l;for(;l;){l.intro&&(i!==l||l.start===e)&&(f+=l.intro);const t=l.start<r&&l.end>=r;if(t&&l.edited&&l.end!==r)throw new Error(`Cannot use replaced character ${r} as slice end anchor.`);const a=i===l?e-l.start:0,o=t?l.content.length+r-l.end:l.content.length;if(f+=l.content.slice(a,o),l.outro&&(!t||l.end===r)&&(f+=l.outro),t)break;l=l.next}return f}snip(e,r){const f=this.clone();return f.remove(0,e),f.remove(r,f.original.length),f}_split(e){if(this.byStart[e]||this.byEnd[e])return;let r=this.lastSearchedChunk;const f=e>r.end;for(;r;){if(r.contains(e))return this._splitChunk(r,e);r=f?this.byStart[r.end]:this.byEnd[r.start]}}_splitChunk(e,r){if(e.edited&&e.content.length){const l=getLocator(this.original)(r);throw new Error(`Cannot split a chunk that has already been edited (${l.line}:${l.column}  "${e.original}")`)}const f=e.split(r);return this.byEnd[r]=e,this.byStart[r]=f,this.byEnd[f.end]=f,e===this.lastChunk&&(this.lastChunk=f),this.lastSearchedChunk=e,!0}toString(){let e=this.intro,r=this.firstChunk;for(;r;)e+=r.toString(),r=r.next;return e+this.outro}isEmpty(){let e=this.firstChunk;do if(e.intro.length&&e.intro.trim()||e.content.length&&e.content.trim()||e.outro.length&&e.outro.trim())return!1;while(e=e.next);return!0}length(){let e=this.firstChunk,r=0;do r+=e.intro.length+e.content.length+e.outro.length;while(e=e.next);return r}trimLines(){return this.trim("[\\r\\n]")}trim(e){return this.trimStart(e).trimEnd(e)}trimEndAborted(e){const r=new RegExp((e||"\\s")+"+$");if(this.outro=this.outro.replace(r,""),this.outro.length)return!0;let f=this.lastChunk;do{const l=f.end,i=f.trimEnd(r);if(f.end!==l&&(this.lastChunk===f&&(this.lastChunk=f.next),this.byEnd[f.end]=f,this.byStart[f.next.start]=f.next,this.byEnd[f.next.end]=f.next),i)return!0;f=f.previous}while(f);return!1}trimEnd(e){return this.trimEndAborted(e),this}trimStartAborted(e){const r=new RegExp("^"+(e||"\\s")+"+");if(this.intro=this.intro.replace(r,""),this.intro.length)return!0;let f=this.firstChunk;do{const l=f.end,i=f.trimStart(r);if(f.end!==l&&(f===this.lastChunk&&(this.lastChunk=f.next),this.byEnd[f.end]=f,this.byStart[f.next.start]=f.next,this.byEnd[f.next.end]=f.next),i)return!0;f=f.next}while(f);return!1}trimStart(e){return this.trimStartAborted(e),this}hasChanged(){return this.original!==this.toString()}_replaceRegexp(e,r){function f(i,t){return typeof r=="string"?r.replace(/\$(\$|&|\d+)/g,(a,o)=>o==="$"?"$":o==="&"?i[0]:+o<i.length?i[+o]:`$${o}`):r(...i,i.index,t,i.groups)}function l(i,t){let a;const o=[];for(;a=i.exec(t);)o.push(a);return o}if(e.global)l(e,this.original).forEach(t=>{t.index!=null&&this.overwrite(t.index,t.index+t[0].length,f(t,this.original))});else{const i=this.original.match(e);i&&i.index!=null&&this.overwrite(i.index,i.index+i[0].length,f(i,this.original))}return this}_replaceString(e,r){const{original:f}=this,l=f.indexOf(e);return l!==-1&&this.overwrite(l,l+e.length,r),this}replace(e,r){return typeof e=="string"?this._replaceString(e,r):this._replaceRegexp(e,r)}_replaceAllString(e,r){const{original:f}=this,l=e.length;for(let i=f.indexOf(e);i!==-1;i=f.indexOf(e,i+l))this.overwrite(i,i+l,r);return this}replaceAll(e,r){if(typeof e=="string")return this._replaceAllString(e,r);if(!e.global)throw new TypeError("MagicString.prototype.replaceAll called with a non-global RegExp argument");return this._replaceRegexp(e,r)}}const indentPrefix="  ",defaultFilename="index",EMPTY_PROTO="google.protobuf.Empty",TYPE_REFLECTION={double:"number",float:"number",int32:"number",int64:"string",uint32:"number",uint64:"string",sint32:"number",sint64:"string",fixed32:"number",fixed64:"string",sfixed32:"number",sfixed64:"string",bool:"boolean",string:"string",bytes:"string"};function genEnum(s,e){const{values:r,comments:f,name:l}=s,i=Object.keys(r).map(o=>({name:o,id:r[o],comment:f[o]})).sort((o,u)=>o.id-u.id),t=new MagicString("");i.forEach(o=>{t.append(`${o.name} = ${o.id}, //${o.comment}
`)});const a=e.isDefinition?"":"export ";return t.indent(indentPrefix).prepend(`${a}enum ${l} {
`).append(`}

`),{definitions:t.toString(),imports:""}}function getJsdocEnum(s,e){const{values:r,comments:f,name:l}=s,i=Object.keys(r).map(o=>({name:o,id:r[o],comment:f[o]})).sort((o,u)=>o.id-u.id),t=new MagicString("");i.forEach(o=>{t.append(`${o.name} = ${o.id}, //${o.comment}
`)});const a="export ";return t.prepend(`${a} const ${l} = {
`).append(`}

`),t.prepend(`/** @enum {number}
`),{definitions:t.toString(),imports:""}}function relativePath(s,e){const r=s.split("/"),f=e.split("/");let l=[],i=[];for(;r.length>0;){const o=r.shift();if(f.length>0){const u=f.shift();o!==u&&u&&o&&(i.push(u),l.push(o))}else o&&l.push(o)}for(;f.length>0;){const o=f.shift();o&&i.push(o)}const a=new Array(l.length).fill("..").concat(i).join("/");return a.includes("/")||a.includes(".")?a:"./"+a}function getDirectory(s){const e=s.lastIndexOf("/");return s.substring(0,e)}function getKeyType(s){return s.keyType?TYPE_REFLECTION[s.keyType]||s.keyType:""}function readField(s,e){let r=[];const f=Object.keys(e).map(l=>{const i=e[l],{type:t,repeated:a,id:o,comment:u,required:d}=i;return TYPE_REFLECTION[t]||r.push(t),{name:l,type:TYPE_REFLECTION[t]||t,keyType:getKeyType(i),repeated:a,id:o,comment:u,required:d}});return{name:s,params:f.sort((l,i)=>l.id-i.id),importItems:r}}function genType(s,e){const{name:r,fields:f,comment:l,filename:i}=s,t=readField(r,f),a=new MagicString("");let o=t.importItems.map(d=>{const c=s.lookupTypeOrEnum(d);if(i&&c.filename){const p=getDirectory(i),h=c.filename,y=relativePath(p,h).replace(".proto","");return`import { ${d} } from '${y}';
`}return""}).filter(d=>d).join("");o&&(o=o+`
`),t.params.forEach(d=>{const c=d.required?"":"?";d.repeated?a.append(`${d.name}${c}: ${d.type}[];`):d.keyType?a.append(`${d.name}${c}: {[key: ${d.keyType}]: ${d.type}};`):a.append(`${d.name}${c}: ${d.type};`),d.comment&&a.append(` //${d.comment}`),a.append(`
`)});const u=e.isDefinition?"":"export ";return a.indent(indentPrefix).prepend(`${u}interface ${t.name} {
`).append(`}

`),l&&a.prepend(`//${l}
`),{definitions:a.toString(),imports:o}}function getJsdocType(s,e){const{name:r,fields:f,comment:l,filename:i}=s,t=readField(r,f),a=new MagicString("");return t.params.forEach(o=>{const u=o.required?"":"=",d=o.comment||"";o.repeated?a.append(` * @prop {${o.type}[]${u}} ${o.name} ${d}`):o.keyType?a.append(` * @prop {{[key: ${o.keyType}]: ${o.type}}${u}} ${o.name} ${d}`):a.append(` * @prop {${o.type}${u}} ${o.name} ${d}`),a.append(`
`)}),a.prepend(` * @typedef {Object} ${t.name}
`).prepend(` * ${l||""}
`).prepend(`/**
`).append(` */

`),console.log(66666,a.toString()),{definitions:a.toString(),imports:""}}function readMethod(s,e){const r=Object.keys(e).map(f=>{const l=e[f],{requestType:i,responseType:t,comment:a}=l;return{name:f,requestType:i,responseType:t,comment:a}});return{name:s,params:r}}function genService(s,e){const{name:r,methods:f,comment:l}=s,i=readMethod(r,f),t=new MagicString(`//Service: ${r}
`);return l&&t.prepend(`//${l}
`),i.params.forEach(a=>{const o=a.requestType===EMPTY_PROTO?"":`params: ${a.requestType}`,u=a.responseType===EMPTY_PROTO?"{}":a.responseType,d=e.isDefinition?"":"export ";a.comment&&t.append(`//${a.comment}
`),t.append(`${d}type ${a.name} = (${o}) => Promise<${u}>;`),t.append(`

`)}),{definitions:t.toString(),imports:""}}function getJsdocService(s,e){const{name:r,methods:f,comment:l}=s,i=readMethod(r,f),t=new MagicString("");return i.params.forEach(a=>{const o=a.requestType===EMPTY_PROTO?"*":a.requestType,u=a.responseType===EMPTY_PROTO?"*":a.responseType;a.comment&&t.append(` * ${a.comment}
`),t.append(` * @callback ${a.name}
`),t.append(` * @param {${o}} params
`),t.append(` * @returns {Promise<${u}>}
`),t.prepend(` * ${l||""}
`).prepend(`/**
`).prepend(`//Service: ${r}
`).append(` */

`)}),{definitions:t.toString(),imports:""}}function handleError(s){console.log(s),process.exit(1)}const{Root:Root$1,Enum:Enum$1,Service:Service$2,Type:Type$1}=protobuf$2,defaultOptions={isDefinition:!1};function getTypescript(s,e){const r=new Map;let f=[s],l;for(;l=f.shift();){let i=defaultFilename;if(l.filename&&e.inputDir&&(i=relativePath(e.inputDir,l.filename).replace("proto","ts")),l.nested)f=f.concat(Object.values(l.nested));else{let t=null;l instanceof Enum$1?e.isJsdoc?t=getJsdocEnum(l):t=genEnum(l,e):l instanceof Type$1?e.isJsdoc?t=getJsdocType(l):t=genType(l,e):l instanceof Service$2&&(e.isJsdoc?t=getJsdocService(l):t=genService(l,e)),t&&setType(r,i,t)}}return r}function parseProtoRoot(s,e,r){let f=s;if(r){const i=s.lookup(r);i&&(f=i)}const l=getTypescript(f,e);if(l.size===0)return"";if(l.size===1){const i=l.get(defaultFilename);if(i){let t="";return i.imports&&(t=t+i.imports.join("")),t=t+i.definitions.join(""),t}}return handleError("More than one protobuf files, please use parseProtoFiles"),""}function parseProto(s,e){const r={...defaultOptions,...e},f=protobuf$2.parse(s,{alternateCommentMode:!0,preferTrailingComment:!0,keepCase:!0});return parseProtoRoot(f.root,r,f.package)}function setType(s,e,r){const f=s.get(e);f?s.set(e,{definitions:[...f.definitions,r.definitions],imports:[...f.imports,r.imports]}):s.set(e,{definitions:[r.definitions],imports:[r.imports]})}function parseProtoFiles(s,e){try{const r=new Root$1;return s.forEach(f=>{r.loadSync(f,{alternateCommentMode:!0,preferTrailingComment:!0,keepCase:!0})}),getTypescript(r,e)}catch(r){handleError(r)}}const pbToTypescript={getAllMethods,mockResponse,parseProto,parseProtoRoot,parseProtoFiles};var clipboard={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */(function(s,e){(function(f,l){s.exports=l()})(commonjsGlobal,function(){return function(){var r={686:function(i,t,a){a.d(t,{default:function(){return X}});var o=a(279),u=a.n(o),d=a(370),c=a.n(d),p=a(817),h=a.n(p);function y(P){try{return document.execCommand(P)}catch{return!1}}var v=function(L){var M=h()(L);return y("cut"),M},x=v;function w(P){var L=document.documentElement.getAttribute("dir")==="rtl",M=document.createElement("textarea");M.style.fontSize="12pt",M.style.border="0",M.style.padding="0",M.style.margin="0",M.style.position="absolute",M.style[L?"right":"left"]="-9999px";var I=window.pageYOffset||document.documentElement.scrollTop;return M.style.top="".concat(I,"px"),M.setAttribute("readonly",""),M.value=P,M}var m=function(L,M){var I=w(L);M.container.appendChild(I);var D=h()(I);return y("copy"),I.remove(),D},$=function(L){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},I="";return typeof L=="string"?I=m(L,M):L instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(L==null?void 0:L.type)?I=m(L.value,M):(I=h()(L),y("copy")),I},b=$;function O(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(M){return typeof M}:O=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},O(P)}var S=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=L.action,I=M===void 0?"copy":M,D=L.container,W=L.target,j=L.text;if(I!=="copy"&&I!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(W!==void 0)if(W&&O(W)==="object"&&W.nodeType===1){if(I==="copy"&&W.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(I==="cut"&&(W.hasAttribute("readonly")||W.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(j)return b(j,{container:D});if(W)return I==="cut"?x(W):b(W,{container:D})},E=S;function C(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C=function(M){return typeof M}:C=function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},C(P)}function q(P,L){if(!(P instanceof L))throw new TypeError("Cannot call a class as a function")}function T(P,L){for(var M=0;M<L.length;M++){var I=L[M];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(P,I.key,I)}}function B(P,L,M){return L&&T(P.prototype,L),M&&T(P,M),P}function F(P,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(L&&L.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),L&&V(P,L)}function V(P,L){return V=Object.setPrototypeOf||function(I,D){return I.__proto__=D,I},V(P,L)}function U(P){var L=re();return function(){var I=Z(P),D;if(L){var W=Z(this).constructor;D=Reflect.construct(I,arguments,W)}else D=I.apply(this,arguments);return ee(this,D)}}function ee(P,L){return L&&(C(L)==="object"||typeof L=="function")?L:te(P)}function te(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function re(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Z(P){return Z=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)},Z(P)}function Y(P,L){var M="data-clipboard-".concat(P);if(L.hasAttribute(M))return L.getAttribute(M)}var H=function(P){F(M,P);var L=U(M);function M(I,D){var W;return q(this,M),W=L.call(this),W.resolveOptions(D),W.listenClick(I),W}return B(M,[{key:"resolveOptions",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof D.action=="function"?D.action:this.defaultAction,this.target=typeof D.target=="function"?D.target:this.defaultTarget,this.text=typeof D.text=="function"?D.text:this.defaultText,this.container=C(D.container)==="object"?D.container:document.body}},{key:"listenClick",value:function(D){var W=this;this.listener=c()(D,"click",function(j){return W.onClick(j)})}},{key:"onClick",value:function(D){var W=D.delegateTarget||D.currentTarget,j=this.action(W)||"copy",g=E({action:j,container:this.container,target:this.target(W),text:this.text(W)});this.emit(g?"success":"error",{action:j,text:g,trigger:W,clearSelection:function(){W&&W.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(D){return Y("action",D)}},{key:"defaultTarget",value:function(D){var W=Y("target",D);if(W)return document.querySelector(W)}},{key:"defaultText",value:function(D){return Y("text",D)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(D){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return b(D,W)}},{key:"cut",value:function(D){return x(D)}},{key:"isSupported",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],W=typeof D=="string"?[D]:D,j=!!document.queryCommandSupported;return W.forEach(function(g){j=j&&!!document.queryCommandSupported(g)}),j}}]),M}(u()),X=H},828:function(i){var t=9;if(typeof Element<"u"&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function o(u,d){for(;u&&u.nodeType!==t;){if(typeof u.matches=="function"&&u.matches(d))return u;u=u.parentNode}}i.exports=o},438:function(i,t,a){var o=a(828);function u(p,h,y,v,x){var w=c.apply(this,arguments);return p.addEventListener(y,w,x),{destroy:function(){p.removeEventListener(y,w,x)}}}function d(p,h,y,v,x){return typeof p.addEventListener=="function"?u.apply(null,arguments):typeof y=="function"?u.bind(null,document).apply(null,arguments):(typeof p=="string"&&(p=document.querySelectorAll(p)),Array.prototype.map.call(p,function(w){return u(w,h,y,v,x)}))}function c(p,h,y,v){return function(x){x.delegateTarget=o(x.target,h),x.delegateTarget&&v.call(p,x)}}i.exports=d},879:function(i,t){t.node=function(a){return a!==void 0&&a instanceof HTMLElement&&a.nodeType===1},t.nodeList=function(a){var o=Object.prototype.toString.call(a);return a!==void 0&&(o==="[object NodeList]"||o==="[object HTMLCollection]")&&"length"in a&&(a.length===0||t.node(a[0]))},t.string=function(a){return typeof a=="string"||a instanceof String},t.fn=function(a){var o=Object.prototype.toString.call(a);return o==="[object Function]"}},370:function(i,t,a){var o=a(879),u=a(438);function d(y,v,x){if(!y&&!v&&!x)throw new Error("Missing required arguments");if(!o.string(v))throw new TypeError("Second argument must be a String");if(!o.fn(x))throw new TypeError("Third argument must be a Function");if(o.node(y))return c(y,v,x);if(o.nodeList(y))return p(y,v,x);if(o.string(y))return h(y,v,x);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function c(y,v,x){return y.addEventListener(v,x),{destroy:function(){y.removeEventListener(v,x)}}}function p(y,v,x){return Array.prototype.forEach.call(y,function(w){w.addEventListener(v,x)}),{destroy:function(){Array.prototype.forEach.call(y,function(w){w.removeEventListener(v,x)})}}}function h(y,v,x){return u(document.body,y,v,x)}i.exports=d},817:function(i){function t(a){var o;if(a.nodeName==="SELECT")a.focus(),o=a.value;else if(a.nodeName==="INPUT"||a.nodeName==="TEXTAREA"){var u=a.hasAttribute("readonly");u||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),u||a.removeAttribute("readonly"),o=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var d=window.getSelection(),c=document.createRange();c.selectNodeContents(a),d.removeAllRanges(),d.addRange(c),o=d.toString()}return o}i.exports=t},279:function(i){function t(){}t.prototype={on:function(a,o,u){var d=this.e||(this.e={});return(d[a]||(d[a]=[])).push({fn:o,ctx:u}),this},once:function(a,o,u){var d=this;function c(){d.off(a,c),o.apply(u,arguments)}return c._=o,this.on(a,c,u)},emit:function(a){var o=[].slice.call(arguments,1),u=((this.e||(this.e={}))[a]||[]).slice(),d=0,c=u.length;for(d;d<c;d++)u[d].fn.apply(u[d].ctx,o);return this},off:function(a,o){var u=this.e||(this.e={}),d=u[a],c=[];if(d&&o)for(var p=0,h=d.length;p<h;p++)d[p].fn!==o&&d[p].fn._!==o&&c.push(d[p]);return c.length?u[a]=c:delete u[a],this}},i.exports=t,i.exports.TinyEmitter=t}},f={};function l(i){if(f[i])return f[i].exports;var t=f[i]={exports:{}};return r[i](t,t.exports,l),t.exports}return function(){l.n=function(i){var t=i&&i.__esModule?function(){return i.default}:function(){return i};return l.d(t,{a:t}),t}}(),function(){l.d=function(i,t){for(var a in t)l.o(t,a)&&!l.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:t[a]})}}(),function(){l.o=function(i,t){return Object.prototype.hasOwnProperty.call(i,t)}}(),l(686)}().default})})(clipboard);var clipboardExports=clipboard.exports;const ClipboardJS=getDefaultExportFromCjs(clipboardExports);function create_if_block$3(s){let e;return{c(){e=element("span"),e.textContent="Invalid Protobuf",attr(e,"class","rightcorner warning")},m(r,f){insert(r,e,f)},d(r){r&&detach(e)}}}function create_fragment$3(s){let e,r,f,l,i,t,a,o,u,d,c,p,h,y,v,x,w,m,$,b=s[3]&&create_if_block$3();return{c(){e=element("div"),r=element("div"),f=element("h3"),f.textContent="Protocol buffer",l=space(),i=element("textarea"),t=space(),b&&b.c(),a=space(),o=element("div"),u=element("div"),d=element("select"),c=element("option"),c.textContent="Typescript d.ts",p=element("option"),p.textContent="Typescript File",h=element("option"),h.textContent="Jsdoc",y=space(),v=element("textarea"),x=space(),w=element("span"),w.textContent="Copy to clipboard",attr(i,"name",""),attr(r,"class","col"),c.__value="1",set_input_value(c,c.__value),p.__value="0",set_input_value(p,p.__value),h.__value="2",set_input_value(h,h.__value),attr(d,"class","type-selector"),s[2]===void 0&&add_render_callback(()=>s[6].call(d)),attr(u,"class","tool-bar"),attr(v,"name",""),attr(v,"id","typescript"),attr(w,"class","rightcorner button"),attr(w,"data-clipboard-target","#typescript"),attr(o,"class","col"),attr(e,"id","container")},m(O,S){insert(O,e,S),append(e,r),append(r,f),append(r,l),append(r,i),set_input_value(i,s[0]),append(r,t),b&&b.m(r,null),append(e,a),append(e,o),append(o,u),append(u,d),append(d,c),append(d,p),append(d,h),select_option(d,s[2],!0),append(o,y),append(o,v),set_input_value(v,s[1]),append(o,x),append(o,w),m||($=[listen(i,"input",s[5]),listen(i,"input",s[4]),listen(d,"change",s[6]),listen(d,"change",s[4]),listen(d,"blur",s[4]),listen(v,"input",s[7])],m=!0)},p(O,[S]){S&1&&set_input_value(i,O[0]),O[3]?b||(b=create_if_block$3(),b.c(),b.m(r,null)):b&&(b.d(1),b=null),S&4&&select_option(d,O[2]),S&2&&set_input_value(v,O[1])},i:noop$2,o:noop$2,d(O){O&&detach(e),b&&b.d(),m=!1,run_all($)}}}function instance$3(s,e,r){let f=`
syntax = "proto3";

service MyService {
    rpc MyMethod (MyRequest) returns (MyResponse);
}

message MyRequest {
    string path = 1;
}

message MyResponse {
    int32 status = 1;
}
  `,l="",i="0",t=!1;function a(){const c=i==="1",p=i==="2";r(1,l=pbToTypescript.parseProto('syntax = "proto3";'+f,{isDefinition:c,isJsdoc:p})),r(3,t=!1)}onMount(()=>{window.onerror=()=>{r(3,t=!0)},a(),new ClipboardJS(".button")});function o(){f=this.value,r(0,f)}function u(){i=select_value(this),r(2,i)}function d(){l=this.value,r(1,l)}return[f,l,i,t,a,o,u,d]}class Pages extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{})}}function get_each_context(s,e,r){const f=s.slice();return f[8]=e[r],f}function create_if_block$2(s){let e;return{c(){e=element("span"),e.textContent="Invalid Protobuf",attr(e,"class","rightcorner warning")},m(r,f){insert(r,e,f)},d(r){r&&detach(e)}}}function create_each_block(s){let e,r=s[8]+"",f,l,i;return{c(){e=element("li"),f=text(r),attr(e,"class","method-item")},m(t,a){insert(t,e,a),append(e,f),l||(i=listen(e,"click",s[5]),l=!0)},p(t,a){a&8&&r!==(r=t[8]+"")&&set_data(f,r)},d(t){t&&detach(e),l=!1,i()}}}function create_fragment$2(s){let e,r,f,l,i,t,a,o,u,d,c,p,h,y,v,x,w,m,$,b,O=s[2]&&create_if_block$2(),S=ensure_array_like(s[3]),E=[];for(let C=0;C<S.length;C+=1)E[C]=create_each_block(get_each_context(s,S,C));return{c(){e=element("div"),r=element("div"),f=element("h3"),f.textContent="Protocol buffer",l=space(),i=element("textarea"),t=space(),O&&O.c(),a=space(),o=element("div"),u=element("h3"),u.textContent="Methods",d=space(),c=element("ul");for(let C=0;C<E.length;C+=1)E[C].c();p=space(),h=element("div"),y=element("h3"),y.textContent="Response Mock Result",v=space(),x=element("textarea"),w=space(),m=element("span"),m.textContent="Copy to clipboard",attr(i,"name",""),attr(r,"class","editor"),attr(o,"class","selector"),attr(x,"name",""),attr(x,"id","typescript"),attr(m,"class","rightcorner button"),attr(m,"data-clipboard-target","#typescript"),attr(h,"class","editor"),attr(e,"id","container")},m(C,q){insert(C,e,q),append(e,r),append(r,f),append(r,l),append(r,i),set_input_value(i,s[0]),append(r,t),O&&O.m(r,null),append(e,a),append(e,o),append(o,u),append(o,d),append(o,c);for(let T=0;T<E.length;T+=1)E[T]&&E[T].m(c,null);append(e,p),append(e,h),append(h,y),append(h,v),append(h,x),set_input_value(x,s[1]),append(h,w),append(h,m),$||(b=[listen(i,"input",s[6]),listen(i,"input",s[4]),listen(x,"input",s[7])],$=!0)},p(C,[q]){if(q&1&&set_input_value(i,C[0]),C[2]?O||(O=create_if_block$2(),O.c(),O.m(r,null)):O&&(O.d(1),O=null),q&40){S=ensure_array_like(C[3]);let T;for(T=0;T<S.length;T+=1){const B=get_each_context(C,S,T);E[T]?E[T].p(B,q):(E[T]=create_each_block(B),E[T].c(),E[T].m(c,null))}for(;T<E.length;T+=1)E[T].d(1);E.length=S.length}q&2&&set_input_value(x,C[1])},i:noop$2,o:noop$2,d(C){C&&detach(e),O&&O.d(),destroy_each(E,C),$=!1,run_all(b)}}}function instance$2(s,e,r){let f=` 
syntax = "proto3";

service Greeter {
rpc SayHello (HelloRequest) returns (HelloReply) {}
}

message HelloRequest {
string name = 1;
}

message Teacher {
string name = 1;
}

message HelloReply {
string message = 1;
number test = 2;
Teacher teacher = 3;
}
`,l,i=!1,t=[];function a(){const c=pbToTypescript.getAllMethods('syntax = "proto3";'+f);r(3,t=Object.keys(c)),r(2,i=!1)}function o(c){var p=pbToTypescript.mockResponse('syntax = "proto3";'+f,c.target.innerText);r(1,l=JSON.stringify(p,null,4)),r(2,i=!1)}onMount(()=>{window.onerror=()=>{r(2,i=!0)},a(),new ClipboardJS(".button")});function u(){f=this.value,r(0,f)}function d(){l=this.value,r(1,l)}return[f,l,i,t,a,o,u,d]}class Mock extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{})}}var src={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var s=requireMinimal();function e(i,t){this.lo=i>>>0,this.hi=t>>>0}var r=e.zero=new e(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};var f=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(t){if(t===0)return r;var a=t<0;a&&(t=-t);var o=t>>>0,u=(t-o)/4294967296>>>0;return a&&(u=~u>>>0,o=~o>>>0,++o>4294967295&&(o=0,++u>4294967295&&(u=0))),new e(o,u)},e.from=function(t){if(typeof t=="number")return e.fromNumber(t);if(s.isString(t))if(s.Long)t=s.Long.fromString(t);else return e.fromNumber(parseInt(t,10));return t.low||t.high?new e(t.low>>>0,t.high>>>0):r},e.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var a=~this.lo+1>>>0,o=~this.hi>>>0;return a||(o=o+1>>>0),-(a+o*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(t){return s.Long?new s.Long(this.lo|0,this.hi|0,!!t):{low:this.lo|0,high:this.hi|0,unsigned:!!t}};var l=String.prototype.charCodeAt;return e.fromHash=function(t){return t===f?r:new e((l.call(t,0)|l.call(t,1)<<8|l.call(t,2)<<16|l.call(t,3)<<24)>>>0,(l.call(t,4)|l.call(t,5)<<8|l.call(t,6)<<16|l.call(t,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},e.prototype.zzDecode=function(){var t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},e.prototype.length=function(){var t=this.lo,a=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?a===0?t<16384?t<128?1:2:t<2097152?3:4:a<16384?a<128?5:6:a<2097152?7:8:o<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(s){var e=s;e.asPromise=requireAspromise(),e.base64=requireBase64(),e.EventEmitter=requireEventemitter(),e.float=requireFloat(),e.inquire=requireInquire(),e.utf8=requireUtf8(),e.pool=requirePool(),e.LongBits=requireLongbits(),e.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i},e.isString=function(i){return typeof i=="string"||i instanceof String},e.isObject=function(i){return i&&typeof i=="object"},e.isset=e.isSet=function(i,t){var a=i[t];return a!=null&&i.hasOwnProperty(t)?typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0:!1},e.Buffer=function(){try{var l=e.inquire("buffer").Buffer;return l.prototype.utf8Write?l:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(i){return typeof i=="number"?e.Buffer?e._Buffer_allocUnsafe(i):new e.Array(i):e.Buffer?e._Buffer_from(i):typeof Uint8Array>"u"?i:new Uint8Array(i)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(i){return i?e.LongBits.from(i).toHash():e.LongBits.zeroHash},e.longFromHash=function(i,t){var a=e.LongBits.fromHash(i);return e.Long?e.Long.fromBits(a.lo,a.hi,t):a.toNumber(!!t)};function r(l,i,t){for(var a=Object.keys(i),o=0;o<a.length;++o)(l[a[o]]===void 0||!t)&&(l[a[o]]=i[a[o]]);return l}e.merge=r,e.lcFirst=function(i){return i.charAt(0).toLowerCase()+i.substring(1)};function f(l){function i(t,a){if(!(this instanceof i))return new i(t,a);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{value:new Error().stack||""}),a&&r(this,a)}return i.prototype=Object.create(Error.prototype,{constructor:{value:i,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return l},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),i}e.newError=f,e.ProtocolError=f("ProtocolError"),e.oneOfGetter=function(i){for(var t={},a=0;a<i.length;++a)t[i[a]]=1;return function(){for(var o=Object.keys(this),u=o.length-1;u>-1;--u)if(t[o[u]]===1&&this[o[u]]!==void 0&&this[o[u]]!==null)return o[u]}},e.oneOfSetter=function(i){return function(t){for(var a=0;a<i.length;++a)i[a]!==t&&delete this[i[a]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var l=e.Buffer;if(!l){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=l.from!==Uint8Array.from&&l.from||function(t,a){return new l(t,a)},e._Buffer_allocUnsafe=l.allocUnsafe||function(t){return new l(t)}}}(minimal)),minimal}var writer=Writer$1,util$7=requireMinimal(),BufferWriter$1,LongBits$1=util$7.LongBits,base64=util$7.base64,utf8$1=util$7.utf8;function Op(s,e,r){this.fn=s,this.len=e,this.next=void 0,this.val=r}function noop(){}function State(s){this.head=s.head,this.tail=s.tail,this.len=s.len,this.next=s.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function s(){return util$7.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function s(e){return new util$7.Array(e)};util$7.Array!==Array&&(Writer$1.alloc=util$7.pool(Writer$1.alloc,util$7.Array.prototype.subarray));Writer$1.prototype._push=function s(e,r,f){return this.tail=this.tail.next=new Op(e,r,f),this.len+=r,this};function writeByte(s,e,r){e[r]=s&255}function writeVarint32(s,e,r){for(;s>127;)e[r++]=s&127|128,s>>>=7;e[r]=s}function VarintOp(s,e){this.len=s,this.next=void 0,this.val=e}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function s(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$1.prototype.int32=function s(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)};Writer$1.prototype.sint32=function s(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64(s,e,r){for(;s.hi;)e[r++]=s.lo&127|128,s.lo=(s.lo>>>7|s.hi<<25)>>>0,s.hi>>>=7;for(;s.lo>127;)e[r++]=s.lo&127|128,s.lo=s.lo>>>7;e[r++]=s.lo}Writer$1.prototype.uint64=function s(e){var r=LongBits$1.from(e);return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function s(e){var r=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,r.length(),r)};Writer$1.prototype.bool=function s(e){return this._push(writeByte,1,e?1:0)};function writeFixed32(s,e,r){e[r]=s&255,e[r+1]=s>>>8&255,e[r+2]=s>>>16&255,e[r+3]=s>>>24}Writer$1.prototype.fixed32=function s(e){return this._push(writeFixed32,4,e>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function s(e){var r=LongBits$1.from(e);return this._push(writeFixed32,4,r.lo)._push(writeFixed32,4,r.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function s(e){return this._push(util$7.float.writeFloatLE,4,e)};Writer$1.prototype.double=function s(e){return this._push(util$7.float.writeDoubleLE,8,e)};var writeBytes=util$7.Array.prototype.set?function s(e,r,f){r.set(e,f)}:function s(e,r,f){for(var l=0;l<e.length;++l)r[f+l]=e[l]};Writer$1.prototype.bytes=function s(e){var r=e.length>>>0;if(!r)return this._push(writeByte,1,0);if(util$7.isString(e)){var f=Writer$1.alloc(r=base64.length(e));base64.decode(e,f,0),e=f}return this.uint32(r)._push(writeBytes,r,e)};Writer$1.prototype.string=function s(e){var r=utf8$1.length(e);return r?this.uint32(r)._push(utf8$1.write,r,e):this._push(writeByte,1,0)};Writer$1.prototype.fork=function s(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function s(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function s(){var e=this.head,r=this.tail,f=this.len;return this.reset().uint32(f),f&&(this.tail.next=e.next,this.tail=r,this.len+=f),this};Writer$1.prototype.finish=function s(){for(var e=this.head.next,r=this.constructor.alloc(this.len),f=0;e;)e.fn(e.val,r,f),f+=e.len,e=e.next;return r};Writer$1._configure=function(s){BufferWriter$1=s,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$6=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$6._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$6.Buffer&&util$6.Buffer.prototype instanceof Uint8Array&&util$6.Buffer.prototype.set.name==="set"?function(e,r,f){r.set(e,f)}:function(e,r,f){if(e.copy)e.copy(r,f,0,e.length);else for(var l=0;l<e.length;)r[f++]=e[l++]}};BufferWriter.prototype.bytes=function s(e){util$6.isString(e)&&(e=util$6._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(BufferWriter.writeBytesBuffer,r,e),this};function writeStringBuffer(s,e,r){s.length<40?util$6.utf8.write(s,e,r):e.utf8Write?e.utf8Write(s,r):e.write(s,r)}BufferWriter.prototype.string=function s(e){var r=util$6.Buffer.byteLength(e);return this.uint32(r),r&&this._push(writeStringBuffer,r,e),this};BufferWriter._configure();var reader=Reader$1,util$5=requireMinimal(),BufferReader$1,LongBits=util$5.LongBits,utf8=util$5.utf8;function indexOutOfRange(s,e){return RangeError("index out of range: "+s.pos+" + "+(e||1)+" > "+s.len)}function Reader$1(s){this.buf=s,this.pos=0,this.len=s.length}var create_array=typeof Uint8Array<"u"?function s(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function s(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create=function s(){return util$5.Buffer?function(r){return(Reader$1.create=function(l){return util$5.Buffer.isBuffer(l)?new BufferReader$1(l):create_array(l)})(r)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$5.Array.prototype.subarray||util$5.Array.prototype.slice;Reader$1.prototype.uint32=function s(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}();Reader$1.prototype.int32=function s(){return this.uint32()|0};Reader$1.prototype.sint32=function s(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint(){var s=new LongBits(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(s.lo=(s.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return s;if(s.lo=(s.lo|(this.buf[this.pos]&127)<<28)>>>0,s.hi=(s.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return s;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(s.lo=(s.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return s}return s.lo=(s.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,s}if(this.len-this.pos>4){for(;e<5;++e)if(s.hi=(s.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return s}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(s.hi=(s.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return s}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function s(){return this.uint32()!==0};function readFixed32_end(s,e){return(s[e-4]|s[e-3]<<8|s[e-2]<<16|s[e-1]<<24)>>>0}Reader$1.prototype.fixed32=function s(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function s(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function s(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$5.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$1.prototype.double=function s(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$5.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$1.prototype.bytes=function s(){var e=this.uint32(),r=this.pos,f=this.pos+e;if(f>this.len)throw indexOutOfRange(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(r,f);if(r===f){var l=util$5.Buffer;return l?l.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,r,f)};Reader$1.prototype.string=function s(){var e=this.bytes();return utf8.read(e,0,e.length)};Reader$1.prototype.skip=function s(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(s){switch(s){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(s=this.uint32()&7)!==4;)this.skipType(s);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+s+" at offset "+this.pos)}return this};Reader$1._configure=function(s){BufferReader$1=s,Reader$1.create=create(),BufferReader$1._configure();var e=util$5.Long?"toLong":"toNumber";util$5.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$4=requireMinimal();function BufferReader(s){Reader.call(this,s)}BufferReader._configure=function(){util$4.Buffer&&(BufferReader.prototype._slice=util$4.Buffer.prototype.slice)};BufferReader.prototype.string=function s(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader._configure();var rpc={},service$1=Service$1,util$3=requireMinimal();(Service$1.prototype=Object.create(util$3.EventEmitter.prototype)).constructor=Service$1;function Service$1(s,e,r){if(typeof s!="function")throw TypeError("rpcImpl must be a function");util$3.EventEmitter.call(this),this.rpcImpl=s,this.requestDelimited=!!e,this.responseDelimited=!!r}Service$1.prototype.rpcCall=function s(e,r,f,l,i){if(!l)throw TypeError("request must be specified");var t=this;if(!i)return util$3.asPromise(s,t,e,r,f,l);if(!t.rpcImpl){setTimeout(function(){i(Error("already ended"))},0);return}try{return t.rpcImpl(e,r[t.requestDelimited?"encodeDelimited":"encode"](l).finish(),function(o,u){if(o)return t.emit("error",o,e),i(o);if(u===null){t.end(!0);return}if(!(u instanceof f))try{u=f[t.responseDelimited?"decodeDelimited":"decode"](u)}catch(d){return t.emit("error",d,e),i(d)}return t.emit("data",u,e),i(null,u)})}catch(a){t.emit("error",a,e),setTimeout(function(){i(a)},0);return}};Service$1.prototype.end=function s(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(s){var e=s;e.Service=service$1})(rpc);var roots={};(function(s){var e=s;e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=requireMinimal(),e.rpc=rpc,e.roots=roots,e.configure=r;function r(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}r()})(indexMinimal);var util$2={exports:{}},types$1={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(s){var e=s,r=requireUtil(),f=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function l(i,t){var a=0,o={};for(t|=0;a<i.length;)o[f[a+t]]=i[a++];return o}e.basic=l([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),e.defaults=l([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",r.emptyArray,null]),e.long=l([0,0,0,1,1],7),e.mapKey=l([0,0,0,5,5,0,0,0,1,1,0,2],2),e.packed=l([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types$1)),types$1}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=t;var s=requireObject();((t.prototype=Object.create(s.prototype)).constructor=t).className="Field";var e=require_enum(),r=requireTypes(),f=requireUtil(),l,i=/^required|optional|repeated$/;t.fromJSON=function(o,u){return new t(o,u.id,u.type,u.rule,u.extend,u.options,u.comment)};function t(a,o,u,d,c,p,h){if(f.isObject(d)?(h=c,p=d,d=c=void 0):f.isObject(c)&&(h=p,p=c,c=void 0),s.call(this,a,p),!f.isInteger(o)||o<0)throw TypeError("id must be a non-negative integer");if(!f.isString(u))throw TypeError("type must be a string");if(d!==void 0&&!i.test(d=d.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(c!==void 0&&!f.isString(c))throw TypeError("extend must be a string");d==="proto3_optional"&&(d="optional"),this.rule=d&&d!=="optional"?d:void 0,this.type=u,this.id=o,this.extend=c||void 0,this.required=d==="required",this.optional=!this.required,this.repeated=d==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=f.Long?r.long[u]!==void 0:!1,this.bytes=u==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=h}return Object.defineProperty(t.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),t.prototype.setOption=function(o,u,d){return o==="packed"&&(this._packed=null),s.prototype.setOption.call(this,o,u,d)},t.prototype.toJSON=function(o){var u=o?!!o.keepComments:!1;return f.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",u?this.comment:void 0])},t.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=r.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof l?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof e&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof e))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=f.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var o;f.base64.test(this.typeDefault)?f.base64.decode(this.typeDefault,o=f.newBuffer(f.base64.length(this.typeDefault)),0):f.utf8.write(this.typeDefault,o=f.newBuffer(f.utf8.length(this.typeDefault)),0),this.typeDefault=o}return this.map?this.defaultValue=f.emptyObject:this.repeated?this.defaultValue=f.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof l&&(this.parent.ctor.prototype[this.name]=this.defaultValue),s.prototype.resolve.call(this)},t.d=function(o,u,d,c){return typeof u=="function"?u=f.decorateType(u).name:u&&typeof u=="object"&&(u=f.decorateEnum(u).name),function(h,y){f.decorateType(h.constructor).add(new t(y,o,u,d,{default:c}))}},t._configure=function(o){l=o},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=f;var s=requireObject();((f.prototype=Object.create(s.prototype)).constructor=f).className="OneOf";var e=requireField(),r=requireUtil();function f(i,t,a,o){if(Array.isArray(t)||(a=t,t=void 0),s.call(this,i,a),!(t===void 0||Array.isArray(t)))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}f.fromJSON=function(t,a){return new f(t,a.oneof,a.options,a.comment)},f.prototype.toJSON=function(t){var a=t?!!t.keepComments:!1;return r.toObject(["options",this.options,"oneof",this.oneof,"comment",a?this.comment:void 0])};function l(i){if(i.parent)for(var t=0;t<i.fieldsArray.length;++t)i.fieldsArray[t].parent||i.parent.add(i.fieldsArray[t])}return f.prototype.add=function(t){if(!(t instanceof e))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,l(this),this},f.prototype.remove=function(t){if(!(t instanceof e))throw TypeError("field must be a Field");var a=this.fieldsArray.indexOf(t);if(a<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(a,1),a=this.oneof.indexOf(t.name),a>-1&&this.oneof.splice(a,1),t.partOf=null,this},f.prototype.onAdd=function(t){s.prototype.onAdd.call(this,t);for(var a=this,o=0;o<this.oneof.length;++o){var u=t.get(this.oneof[o]);u&&!u.partOf&&(u.partOf=a,a.fieldsArray.push(u))}l(this)},f.prototype.onRemove=function(t){for(var a=0,o;a<this.fieldsArray.length;++a)(o=this.fieldsArray[a]).parent&&o.parent.remove(o);s.prototype.onRemove.call(this,t)},f.d=function(){for(var t=new Array(arguments.length),a=0;a<arguments.length;)t[a]=arguments[a++];return function(u,d){r.decorateType(u.constructor).add(new f(d,t)),Object.defineProperty(u,d,{get:r.oneOfGetter(t),set:r.oneOfSetter(t)})}},oneof}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=o;var s=requireObject();((o.prototype=Object.create(s.prototype)).constructor=o).className="Namespace";var e=requireField(),r=requireUtil(),f=requireOneof(),l,i,t;o.fromJSON=function(c,p){return new o(c,p.options).addJSON(p.nested)};function a(d,c){if(d&&d.length){for(var p={},h=0;h<d.length;++h)p[d[h].name]=d[h].toJSON(c);return p}}o.arrayToJSON=a,o.isReservedId=function(c,p){if(c){for(var h=0;h<c.length;++h)if(typeof c[h]!="string"&&c[h][0]<=p&&c[h][1]>p)return!0}return!1},o.isReservedName=function(c,p){if(c){for(var h=0;h<c.length;++h)if(c[h]===p)return!0}return!1};function o(d,c){s.call(this,d,c),this.nested=void 0,this._nestedArray=null}function u(d){return d._nestedArray=null,d}return Object.defineProperty(o.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=r.toArray(this.nested))}}),o.prototype.toJSON=function(c){return r.toObject(["options",this.options,"nested",a(this.nestedArray,c)])},o.prototype.addJSON=function(c){var p=this;if(c)for(var h=Object.keys(c),y=0,v;y<h.length;++y)v=c[h[y]],p.add((v.fields!==void 0?l.fromJSON:v.values!==void 0?t.fromJSON:v.methods!==void 0?i.fromJSON:v.id!==void 0?e.fromJSON:o.fromJSON)(h[y],v));return this},o.prototype.get=function(c){return this.nested&&this.nested[c]||null},o.prototype.getEnum=function(c){if(this.nested&&this.nested[c]instanceof t)return this.nested[c].values;throw Error("no such enum: "+c)},o.prototype.add=function(c){if(!(c instanceof e&&c.extend!==void 0||c instanceof l||c instanceof f||c instanceof t||c instanceof i||c instanceof o))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var p=this.get(c.name);if(p)if(p instanceof o&&c instanceof o&&!(p instanceof l||p instanceof i)){for(var h=p.nestedArray,y=0;y<h.length;++y)c.add(h[y]);this.remove(p),this.nested||(this.nested={}),c.setOptions(p.options,!0)}else throw Error("duplicate name '"+c.name+"' in "+this)}return this.nested[c.name]=c,c.onAdd(this),u(this)},o.prototype.remove=function(c){if(!(c instanceof s))throw TypeError("object must be a ReflectionObject");if(c.parent!==this)throw Error(c+" is not a member of "+this);return delete this.nested[c.name],Object.keys(this.nested).length||(this.nested=void 0),c.onRemove(this),u(this)},o.prototype.define=function(c,p){if(r.isString(c))c=c.split(".");else if(!Array.isArray(c))throw TypeError("illegal path");if(c&&c.length&&c[0]==="")throw Error("path must be relative");for(var h=this;c.length>0;){var y=c.shift();if(h.nested&&h.nested[y]){if(h=h.nested[y],!(h instanceof o))throw Error("path conflicts with non-namespace objects")}else h.add(h=new o(y))}return p&&h.addJSON(p),h},o.prototype.resolveAll=function(){for(var c=this.nestedArray,p=0;p<c.length;)c[p]instanceof o?c[p++].resolveAll():c[p++].resolve();return this.resolve()},o.prototype.lookup=function(c,p,h){if(typeof p=="boolean"?(h=p,p=void 0):p&&!Array.isArray(p)&&(p=[p]),r.isString(c)&&c.length){if(c===".")return this.root;c=c.split(".")}else if(!c.length)return this;if(c[0]==="")return this.root.lookup(c.slice(1),p);var y=this.get(c[0]);if(y){if(c.length===1){if(!p||p.indexOf(y.constructor)>-1)return y}else if(y instanceof o&&(y=y.lookup(c.slice(1),p,!0)))return y}else for(var v=0;v<this.nestedArray.length;++v)if(this._nestedArray[v]instanceof o&&(y=this._nestedArray[v].lookup(c,p,!0)))return y;return this.parent===null||h?null:this.parent.lookup(c,p)},o.prototype.lookupType=function(c){var p=this.lookup(c,[l]);if(!p)throw Error("no such type: "+c);return p},o.prototype.lookupEnum=function(c){var p=this.lookup(c,[t]);if(!p)throw Error("no such Enum '"+c+"' in "+this);return p},o.prototype.lookupTypeOrEnum=function(c){var p=this.lookup(c,[l,t]);if(!p)throw Error("no such Type or Enum '"+c+"' in "+this);return p},o.prototype.lookupService=function(c){var p=this.lookup(c,[i]);if(!p)throw Error("no such Service '"+c+"' in "+this);return p},o._configure=function(d,c,p){l=d,i=c,t=p},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=f;var s=requireField();((f.prototype=Object.create(s.prototype)).constructor=f).className="MapField";var e=requireTypes(),r=requireUtil();function f(l,i,t,a,o,u){if(s.call(this,l,i,a,void 0,void 0,o,u),!r.isString(t))throw TypeError("keyType must be a string");this.keyType=t,this.resolvedKeyType=null,this.map=!0}return f.fromJSON=function(i,t){return new f(i,t.id,t.keyType,t.type,t.options,t.comment)},f.prototype.toJSON=function(i){var t=i?!!i.keepComments:!1;return r.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},f.prototype.resolve=function(){if(this.resolved)return this;if(e.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return s.prototype.resolve.call(this)},f.d=function(i,t,a){return typeof a=="function"?a=r.decorateType(a).name:a&&typeof a=="object"&&(a=r.decorateEnum(a).name),function(u,d){r.decorateType(u.constructor).add(new f(d,i,t,a))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=r;var s=requireObject();((r.prototype=Object.create(s.prototype)).constructor=r).className="Method";var e=requireUtil();function r(f,l,i,t,a,o,u,d,c){if(e.isObject(a)?(u=a,a=o=void 0):e.isObject(o)&&(u=o,o=void 0),!(l===void 0||e.isString(l)))throw TypeError("type must be a string");if(!e.isString(i))throw TypeError("requestType must be a string");if(!e.isString(t))throw TypeError("responseType must be a string");s.call(this,f,u),this.type=l||"rpc",this.requestType=i,this.requestStream=a?!0:void 0,this.responseType=t,this.responseStream=o?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=d,this.parsedOptions=c}return r.fromJSON=function(l,i){return new r(l,i.type,i.requestType,i.responseType,i.requestStream,i.responseStream,i.options,i.comment,i.parsedOptions)},r.prototype.toJSON=function(l){var i=l?!!l.keepComments:!1;return e.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",i?this.comment:void 0,"parsedOptions",this.parsedOptions])},r.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),s.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=l;var s=requireNamespace();((l.prototype=Object.create(s.prototype)).constructor=l).className="Service";var e=requireMethod(),r=requireUtil(),f=rpc;function l(t,a){s.call(this,t,a),this.methods={},this._methodsArray=null}l.fromJSON=function(a,o){var u=new l(a,o.options);if(o.methods)for(var d=Object.keys(o.methods),c=0;c<d.length;++c)u.add(e.fromJSON(d[c],o.methods[d[c]]));return o.nested&&u.addJSON(o.nested),u.comment=o.comment,u},l.prototype.toJSON=function(a){var o=s.prototype.toJSON.call(this,a),u=a?!!a.keepComments:!1;return r.toObject(["options",o&&o.options||void 0,"methods",s.arrayToJSON(this.methodsArray,a)||{},"nested",o&&o.nested||void 0,"comment",u?this.comment:void 0])},Object.defineProperty(l.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=r.toArray(this.methods))}});function i(t){return t._methodsArray=null,t}return l.prototype.get=function(a){return this.methods[a]||s.prototype.get.call(this,a)},l.prototype.resolveAll=function(){for(var a=this.methodsArray,o=0;o<a.length;++o)a[o].resolve();return s.prototype.resolve.call(this)},l.prototype.add=function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);return a instanceof e?(this.methods[a.name]=a,a.parent=this,i(this)):s.prototype.add.call(this,a)},l.prototype.remove=function(a){if(a instanceof e){if(this.methods[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.methods[a.name],a.parent=null,i(this)}return s.prototype.remove.call(this,a)},l.prototype.create=function(a,o,u){for(var d=new f.Service(a,o,u),c=0,p;c<this.methodsArray.length;++c){var h=r.lcFirst((p=this._methodsArray[c]).resolve().name).replace(/[^$\w_]/g,"");d[h]=r.codegen(["r","c"],r.isReserved(h)?h+"_":h)("return this.rpcCall(m,q,s,r,c)")({m:p,q:p.resolvedRequestType.ctor,s:p.resolvedResponseType.ctor})}return d},service}var message=Message,util$1=requireMinimal();function Message(s){if(s)for(var e=Object.keys(s),r=0;r<e.length;++r)this[e[r]]=s[e[r]]}Message.create=function s(e){return this.$type.create(e)};Message.encode=function s(e,r){return this.$type.encode(e,r)};Message.encodeDelimited=function s(e,r){return this.$type.encodeDelimited(e,r)};Message.decode=function s(e){return this.$type.decode(e)};Message.decodeDelimited=function s(e){return this.$type.decodeDelimited(e)};Message.verify=function s(e){return this.$type.verify(e)};Message.fromObject=function s(e){return this.$type.fromObject(e)};Message.toObject=function s(e,r){return this.$type.toObject(e,r)};Message.prototype.toJSON=function s(){return this.$type.toObject(this,util$1.toJSONOptions)};var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=l;var s=require_enum(),e=requireTypes(),r=requireUtil();function f(i){return"missing required '"+i.name+"'"}function l(i){var t=r.codegen(["r","l"],i.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(i.fieldsArray.filter(function(p){return p.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");i.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var a=0;a<i.fieldsArray.length;++a){var o=i._fieldsArray[a].resolve(),u=o.resolvedType instanceof s?"int32":o.type,d="m"+r.safeProp(o.name);t("case %i: {",o.id),o.map?(t("if(%s===util.emptyObject)",d)("%s={}",d)("var c2 = r.uint32()+r.pos"),e.defaults[o.keyType]!==void 0?t("k=%j",e.defaults[o.keyType]):t("k=null"),e.defaults[u]!==void 0?t("value=%j",e.defaults[u]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),e.basic[u]===void 0?t("value=types[%i].decode(r,r.uint32())",a):t("value=r.%s()",u),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),e.long[o.keyType]!==void 0?t('%s[typeof k==="object"?util.longToHash(k):k]=value',d):t("%s[k]=value",d)):o.repeated?(t("if(!(%s&&%s.length))",d,d)("%s=[]",d),e.packed[u]!==void 0&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",d,u)("}else"),e.basic[u]===void 0?t(o.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",d,a):t("%s.push(r.%s())",d,u)):e.basic[u]===void 0?t(o.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",d,a):t("%s=r.%s()",d,u),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),a=0;a<i._fieldsArray.length;++a){var c=i._fieldsArray[a];c.required&&t("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",f(c))}return t("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=i;var s=require_enum(),e=requireUtil();function r(t,a){return t.name+": "+a+(t.repeated&&a!=="array"?"[]":t.map&&a!=="object"?"{k:"+t.keyType+"}":"")+" expected"}function f(t,a,o,u){if(a.resolvedType)if(a.resolvedType instanceof s){t("switch(%s){",u)("default:")("return%j",r(a,"enum value"));for(var d=Object.keys(a.resolvedType.values),c=0;c<d.length;++c)t("case %i:",a.resolvedType.values[d[c]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",o,u)("if(e)")("return%j+e",a.name+".")("}");else switch(a.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",u)("return%j",r(a,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",u,u,u,u)("return%j",r(a,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',u)("return%j",r(a,"number"));break;case"bool":t('if(typeof %s!=="boolean")',u)("return%j",r(a,"boolean"));break;case"string":t("if(!util.isString(%s))",u)("return%j",r(a,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',u,u,u)("return%j",r(a,"buffer"));break}return t}function l(t,a,o){switch(a.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",o)("return%j",r(a,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",o)("return%j",r(a,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",o)("return%j",r(a,"boolean key"));break}return t}function i(t){var a=e.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),o=t.oneofsArray,u={};o.length&&a("var p={}");for(var d=0;d<t.fieldsArray.length;++d){var c=t._fieldsArray[d].resolve(),p="m"+e.safeProp(c.name);if(c.optional&&a("if(%s!=null&&m.hasOwnProperty(%j)){",p,c.name),c.map)a("if(!util.isObject(%s))",p)("return%j",r(c,"object"))("var k=Object.keys(%s)",p)("for(var i=0;i<k.length;++i){"),l(a,c,"k[i]"),f(a,c,d,p+"[k[i]]")("}");else if(c.repeated)a("if(!Array.isArray(%s))",p)("return%j",r(c,"array"))("for(var i=0;i<%s.length;++i){",p),f(a,c,d,p+"[i]")("}");else{if(c.partOf){var h=e.safeProp(c.partOf.name);u[c.partOf.name]===1&&a("if(p%s===1)",h)("return%j",c.partOf.name+": multiple values"),u[c.partOf.name]=1,a("p%s=1",h)}f(a,c,d,p)}c.optional&&a("}")}return a("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(s){var e=s,r=require_enum(),f=requireUtil();function l(t,a,o,u){var d=!1;if(a.resolvedType)if(a.resolvedType instanceof r){t("switch(d%s){",u);for(var c=a.resolvedType.values,p=Object.keys(c),h=0;h<p.length;++h)c[p[h]]===a.typeDefault&&!d&&(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',u,u,u),a.repeated||t("break"),d=!0),t("case%j:",p[h])("case %i:",c[p[h]])("m%s=%j",u,c[p[h]])("break");t("}")}else t('if(typeof d%s!=="object")',u)("throw TypeError(%j)",a.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",u,o,u);else{var y=!1;switch(a.type){case"double":case"float":t("m%s=Number(d%s)",u,u);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",u,u);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",u,u);break;case"uint64":y=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",u,u,y)('else if(typeof d%s==="string")',u)("m%s=parseInt(d%s,10)",u,u)('else if(typeof d%s==="number")',u)("m%s=d%s",u,u)('else if(typeof d%s==="object")',u)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",u,u,u,y?"true":"");break;case"bytes":t('if(typeof d%s==="string")',u)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",u,u,u)("else if(d%s.length >= 0)",u)("m%s=d%s",u,u);break;case"string":t("m%s=String(d%s)",u,u);break;case"bool":t("m%s=Boolean(d%s)",u,u);break}}return t}e.fromObject=function(a){var o=a.fieldsArray,u=f.codegen(["d"],a.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!o.length)return u("return new this.ctor");u("var m=new this.ctor");for(var d=0;d<o.length;++d){var c=o[d].resolve(),p=f.safeProp(c.name);c.map?(u("if(d%s){",p)('if(typeof d%s!=="object")',p)("throw TypeError(%j)",c.fullName+": object expected")("m%s={}",p)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",p),l(u,c,d,p+"[ks[i]]")("}")("}")):c.repeated?(u("if(d%s){",p)("if(!Array.isArray(d%s))",p)("throw TypeError(%j)",c.fullName+": array expected")("m%s=[]",p)("for(var i=0;i<d%s.length;++i){",p),l(u,c,d,p+"[i]")("}")("}")):(c.resolvedType instanceof r||u("if(d%s!=null){",p),l(u,c,d,p),c.resolvedType instanceof r||u("}"))}return u("return m")};function i(t,a,o,u){if(a.resolvedType)a.resolvedType instanceof r?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",u,o,u,u,o,u,u):t("d%s=types[%i].toObject(m%s,o)",u,o,u);else{var d=!1;switch(a.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",u,u,u,u);break;case"uint64":d=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',u)("d%s=o.longs===String?String(m%s):m%s",u,u,u)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",u,u,u,u,d?"true":"",u);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",u,u,u,u,u);break;default:t("d%s=m%s",u,u);break}}return t}e.toObject=function(a){var o=a.fieldsArray.slice().sort(f.compareFieldsById);if(!o.length)return f.codegen()("return {}");for(var u=f.codegen(["m","o"],a.name+"$toObject")("if(!o)")("o={}")("var d={}"),d=[],c=[],p=[],h=0;h<o.length;++h)o[h].partOf||(o[h].resolve().repeated?d:o[h].map?c:p).push(o[h]);if(d.length){for(u("if(o.arrays||o.defaults){"),h=0;h<d.length;++h)u("d%s=[]",f.safeProp(d[h].name));u("}")}if(c.length){for(u("if(o.objects||o.defaults){"),h=0;h<c.length;++h)u("d%s={}",f.safeProp(c[h].name));u("}")}if(p.length){for(u("if(o.defaults){"),h=0;h<p.length;++h){var y=p[h],v=f.safeProp(y.name);if(y.resolvedType instanceof r)u("d%s=o.enums===String?%j:%j",v,y.resolvedType.valuesById[y.typeDefault],y.typeDefault);else if(y.long)u("if(util.Long){")("var n=new util.Long(%i,%i,%j)",y.typeDefault.low,y.typeDefault.high,y.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",v)("}else")("d%s=o.longs===String?%j:%i",v,y.typeDefault.toString(),y.typeDefault.toNumber());else if(y.bytes){var x="["+Array.prototype.slice.call(y.typeDefault).join(",")+"]";u("if(o.bytes===String)d%s=%j",v,String.fromCharCode.apply(String,y.typeDefault))("else{")("d%s=%s",v,x)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",v,v)("}")}else u("d%s=%j",v,y.typeDefault)}u("}")}var w=!1;for(h=0;h<o.length;++h){var y=o[h],m=a._fieldsArray.indexOf(y),v=f.safeProp(y.name);y.map?(w||(w=!0,u("var ks2")),u("if(m%s&&(ks2=Object.keys(m%s)).length){",v,v)("d%s={}",v)("for(var j=0;j<ks2.length;++j){"),i(u,y,m,v+"[ks2[j]]")("}")):y.repeated?(u("if(m%s&&m%s.length){",v,v)("d%s=[]",v)("for(var j=0;j<m%s.length;++j){",v),i(u,y,m,v+"[j]")("}")):(u("if(m%s!=null&&m.hasOwnProperty(%j)){",v,y.name),i(u,y,m,v),y.partOf&&u("if(o.oneofs)")("d%s=%j",f.safeProp(y.partOf.name),y.name)),u("}")}return u("return d")}}(converter)),converter}var wrappers={};(function(s){var e=s,r=message;e[".google.protobuf.Any"]={fromObject:function(f){if(f&&f["@type"]){var l=f["@type"].substring(f["@type"].lastIndexOf("/")+1),i=this.lookup(l);if(i){var t=f["@type"].charAt(0)==="."?f["@type"].slice(1):f["@type"];return t.indexOf("/")===-1&&(t="/"+t),this.create({type_url:t,value:i.encode(i.fromObject(f)).finish()})}}return this.fromObject(f)},toObject:function(f,l){var i="type.googleapis.com/",t="",a="";if(l&&l.json&&f.type_url&&f.value){a=f.type_url.substring(f.type_url.lastIndexOf("/")+1),t=f.type_url.substring(0,f.type_url.lastIndexOf("/")+1);var o=this.lookup(a);o&&(f=o.decode(f.value))}if(!(f instanceof this.ctor)&&f instanceof r){var u=f.$type.toObject(f,l),d=f.$type.fullName[0]==="."?f.$type.fullName.slice(1):f.$type.fullName;return t===""&&(t=i),a=t+d,u["@type"]=a,u}return this.toObject(f,l)}}})(wrappers);var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=v;var s=requireNamespace();((v.prototype=Object.create(s.prototype)).constructor=v).className="Type";var e=require_enum(),r=requireOneof(),f=requireField(),l=requireMapfield(),i=requireService(),t=message,a=reader,o=writer,u=requireUtil(),d=requireEncoder(),c=requireDecoder(),p=requireVerifier(),h=requireConverter(),y=wrappers;function v(w,m){s.call(this,w,m),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var w=Object.keys(this.fields),m=0;m<w.length;++m){var $=this.fields[w[m]],b=$.id;if(this._fieldsById[b])throw Error("duplicate id "+b+" in "+this);this._fieldsById[b]=$}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=u.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=u.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(w){var m=w.prototype;m instanceof t||((w.prototype=new t).constructor=w,u.merge(w.prototype,m)),w.$type=w.prototype.$type=this,u.merge(w,t,!0),this._ctor=w;for(var $=0;$<this.fieldsArray.length;++$)this._fieldsArray[$].resolve();var b={};for($=0;$<this.oneofsArray.length;++$)b[this._oneofsArray[$].resolve().name]={get:u.oneOfGetter(this._oneofsArray[$].oneof),set:u.oneOfSetter(this._oneofsArray[$].oneof)};$&&Object.defineProperties(w.prototype,b)}}}),v.generateConstructor=function(m){for(var $=u.codegen(["p"],m.name),b=0,O;b<m.fieldsArray.length;++b)(O=m._fieldsArray[b]).map?$("this%s={}",u.safeProp(O.name)):O.repeated&&$("this%s=[]",u.safeProp(O.name));return $("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function x(w){return w._fieldsById=w._fieldsArray=w._oneofsArray=null,delete w.encode,delete w.decode,delete w.verify,w}return v.fromJSON=function(m,$){var b=new v(m,$.options);b.extensions=$.extensions,b.reserved=$.reserved;for(var O=Object.keys($.fields),S=0;S<O.length;++S)b.add((typeof $.fields[O[S]].keyType<"u"?l.fromJSON:f.fromJSON)(O[S],$.fields[O[S]]));if($.oneofs)for(O=Object.keys($.oneofs),S=0;S<O.length;++S)b.add(r.fromJSON(O[S],$.oneofs[O[S]]));if($.nested)for(O=Object.keys($.nested),S=0;S<O.length;++S){var E=$.nested[O[S]];b.add((E.id!==void 0?f.fromJSON:E.fields!==void 0?v.fromJSON:E.values!==void 0?e.fromJSON:E.methods!==void 0?i.fromJSON:s.fromJSON)(O[S],E))}return $.extensions&&$.extensions.length&&(b.extensions=$.extensions),$.reserved&&$.reserved.length&&(b.reserved=$.reserved),$.group&&(b.group=!0),$.comment&&(b.comment=$.comment),b},v.prototype.toJSON=function(m){var $=s.prototype.toJSON.call(this,m),b=m?!!m.keepComments:!1;return u.toObject(["options",$&&$.options||void 0,"oneofs",s.arrayToJSON(this.oneofsArray,m),"fields",s.arrayToJSON(this.fieldsArray.filter(function(O){return!O.declaringField}),m)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",$&&$.nested||void 0,"comment",b?this.comment:void 0])},v.prototype.resolveAll=function(){for(var m=this.fieldsArray,$=0;$<m.length;)m[$++].resolve();var b=this.oneofsArray;for($=0;$<b.length;)b[$++].resolve();return s.prototype.resolveAll.call(this)},v.prototype.get=function(m){return this.fields[m]||this.oneofs&&this.oneofs[m]||this.nested&&this.nested[m]||null},v.prototype.add=function(m){if(this.get(m.name))throw Error("duplicate name '"+m.name+"' in "+this);if(m instanceof f&&m.extend===void 0){if(this._fieldsById?this._fieldsById[m.id]:this.fieldsById[m.id])throw Error("duplicate id "+m.id+" in "+this);if(this.isReservedId(m.id))throw Error("id "+m.id+" is reserved in "+this);if(this.isReservedName(m.name))throw Error("name '"+m.name+"' is reserved in "+this);return m.parent&&m.parent.remove(m),this.fields[m.name]=m,m.message=this,m.onAdd(this),x(this)}return m instanceof r?(this.oneofs||(this.oneofs={}),this.oneofs[m.name]=m,m.onAdd(this),x(this)):s.prototype.add.call(this,m)},v.prototype.remove=function(m){if(m instanceof f&&m.extend===void 0){if(!this.fields||this.fields[m.name]!==m)throw Error(m+" is not a member of "+this);return delete this.fields[m.name],m.parent=null,m.onRemove(this),x(this)}if(m instanceof r){if(!this.oneofs||this.oneofs[m.name]!==m)throw Error(m+" is not a member of "+this);return delete this.oneofs[m.name],m.parent=null,m.onRemove(this),x(this)}return s.prototype.remove.call(this,m)},v.prototype.isReservedId=function(m){return s.isReservedId(this.reserved,m)},v.prototype.isReservedName=function(m){return s.isReservedName(this.reserved,m)},v.prototype.create=function(m){return new this.ctor(m)},v.prototype.setup=function(){for(var m=this.fullName,$=[],b=0;b<this.fieldsArray.length;++b)$.push(this._fieldsArray[b].resolve().resolvedType);this.encode=d(this)({Writer:o,types:$,util:u}),this.decode=c(this)({Reader:a,types:$,util:u}),this.verify=p(this)({types:$,util:u}),this.fromObject=h.fromObject(this)({types:$,util:u}),this.toObject=h.toObject(this)({types:$,util:u});var O=y[m];if(O){var S=Object.create(this);S.fromObject=this.fromObject,this.fromObject=O.fromObject.bind(S),S.toObject=this.toObject,this.toObject=O.toObject.bind(S)}return this},v.prototype.encode=function(m,$){return this.setup().encode(m,$)},v.prototype.encodeDelimited=function(m,$){return this.encode(m,$&&$.len?$.fork():$).ldelim()},v.prototype.decode=function(m,$){return this.setup().decode(m,$)},v.prototype.decodeDelimited=function(m){return m instanceof a||(m=a.create(m)),this.decode(m,m.uint32())},v.prototype.verify=function(m){return this.setup().verify(m)},v.prototype.fromObject=function(m){return this.setup().fromObject(m)},v.prototype.toObject=function(m,$){return this.setup().toObject(m,$)},v.d=function(m){return function(b){u.decorateType(b,m)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=o;var s=requireNamespace();((o.prototype=Object.create(s.prototype)).constructor=o).className="Root";var e=requireField(),r=require_enum(),f=requireOneof(),l=requireUtil(),i,t,a;function o(p){s.call(this,"",p),this.deferred=[],this.files=[]}o.fromJSON=function(h,y){return y||(y=new o),h.options&&y.setOptions(h.options),y.addJSON(h.nested)},o.prototype.resolvePath=l.path.resolve,o.prototype.fetch=l.fetch;function u(){}o.prototype.load=function p(h,y,v){typeof y=="function"&&(v=y,y=void 0);var x=this;if(!v)return l.asPromise(p,x,h,y);var w=v===u;function m(q,T){if(v){var B=v;if(v=null,w)throw q;B(q,T)}}function $(q){var T=q.lastIndexOf("google/protobuf/");if(T>-1){var B=q.substring(T);if(B in a)return B}return null}function b(q,T){try{if(l.isString(T)&&T.charAt(0)==="{"&&(T=JSON.parse(T)),!l.isString(T))x.setOptions(T.options).addJSON(T.nested);else{t.filename=q;var B=t(T,x,y),F,V=0;if(B.imports)for(;V<B.imports.length;++V)(F=$(B.imports[V])||x.resolvePath(q,B.imports[V]))&&O(F);if(B.weakImports)for(V=0;V<B.weakImports.length;++V)(F=$(B.weakImports[V])||x.resolvePath(q,B.weakImports[V]))&&O(F,!0)}}catch(U){m(U)}!w&&!S&&m(null,x)}function O(q,T){if(q=$(q)||q,!(x.files.indexOf(q)>-1)){if(x.files.push(q),q in a){w?b(q,a[q]):(++S,setTimeout(function(){--S,b(q,a[q])}));return}if(w){var B;try{B=l.fs.readFileSync(q).toString("utf8")}catch(F){T||m(F);return}b(q,B)}else++S,x.fetch(q,function(F,V){if(--S,!!v){if(F){T?S||m(null,x):m(F);return}b(q,V)}})}}var S=0;l.isString(h)&&(h=[h]);for(var E=0,C;E<h.length;++E)(C=x.resolvePath("",h[E]))&&O(C);if(w)return x;S||m(null,x)},o.prototype.loadSync=function(h,y){if(!l.isNode)throw Error("not supported");return this.load(h,y,u)},o.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(h){return"'extend "+h.extend+"' in "+h.parent.fullName}).join(", "));return s.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function c(p,h){var y=h.parent.lookup(h.extend);if(y){var v=new e(h.fullName,h.id,h.type,h.rule,void 0,h.options);return y.get(v.name)||(v.declaringField=h,h.extensionField=v,y.add(v)),!0}return!1}return o.prototype._handleAdd=function(h){if(h instanceof e)h.extend!==void 0&&!h.extensionField&&(c(this,h)||this.deferred.push(h));else if(h instanceof r)d.test(h.name)&&(h.parent[h.name]=h.values);else if(!(h instanceof f)){if(h instanceof i)for(var y=0;y<this.deferred.length;)c(this,this.deferred[y])?this.deferred.splice(y,1):++y;for(var v=0;v<h.nestedArray.length;++v)this._handleAdd(h._nestedArray[v]);d.test(h.name)&&(h.parent[h.name]=h)}},o.prototype._handleRemove=function(h){if(h instanceof e){if(h.extend!==void 0)if(h.extensionField)h.extensionField.parent.remove(h.extensionField),h.extensionField=null;else{var y=this.deferred.indexOf(h);y>-1&&this.deferred.splice(y,1)}}else if(h instanceof r)d.test(h.name)&&delete h.parent[h.name];else if(h instanceof s){for(var v=0;v<h.nestedArray.length;++v)this._handleRemove(h._nestedArray[v]);d.test(h.name)&&delete h.parent[h.name]}},o._configure=function(p,h,y){i=p,t=h,a=y},root}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$2.exports;hasRequiredUtil=1;var s=util$2.exports=requireMinimal(),e=roots,r,f;s.codegen=requireCodegen(),s.fetch=requireFetch(),s.path=requirePath(),s.fs=s.inquire("fs"),s.toArray=function(u){if(u){for(var d=Object.keys(u),c=new Array(d.length),p=0;p<d.length;)c[p]=u[d[p++]];return c}return[]},s.toObject=function(u){for(var d={},c=0;c<u.length;){var p=u[c++],h=u[c++];h!==void 0&&(d[p]=h)}return d};var l=/\\/g,i=/"/g;s.isReserved=function(u){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(u)},s.safeProp=function(u){return!/^[$\w_]+$/.test(u)||s.isReserved(u)?'["'+u.replace(l,"\\\\").replace(i,'\\"')+'"]':"."+u},s.ucFirst=function(u){return u.charAt(0).toUpperCase()+u.substring(1)};var t=/_([a-z])/g;s.camelCase=function(u){return u.substring(0,1)+u.substring(1).replace(t,function(d,c){return c.toUpperCase()})},s.compareFieldsById=function(u,d){return u.id-d.id},s.decorateType=function(u,d){if(u.$type)return d&&u.$type.name!==d&&(s.decorateRoot.remove(u.$type),u.$type.name=d,s.decorateRoot.add(u.$type)),u.$type;r||(r=requireType());var c=new r(d||u.name);return s.decorateRoot.add(c),c.ctor=u,Object.defineProperty(u,"$type",{value:c,enumerable:!1}),Object.defineProperty(u.prototype,"$type",{value:c,enumerable:!1}),c};var a=0;return s.decorateEnum=function(u){if(u.$type)return u.$type;f||(f=require_enum());var d=new f("Enum"+a++,u);return s.decorateRoot.add(d),Object.defineProperty(u,"$type",{value:d,enumerable:!1}),d},s.setProperty=function(u,d,c){function p(h,y,v){var x=y.shift();if(x==="__proto__"||x==="prototype")return h;if(y.length>0)h[x]=p(h[x]||{},y,v);else{var w=h[x];w&&(v=[].concat(w).concat(v)),h[x]=v}return h}if(typeof u!="object")throw TypeError("dst must be an object");if(!d)throw TypeError("path must be specified");return d=d.split("."),p(u,d,c)},Object.defineProperty(s,"decorateRoot",{get:function(){return e.decorated||(e.decorated=new(requireRoot()))}}),util$2.exports}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=r,r.className="ReflectionObject";var s=requireUtil(),e;function r(f,l){if(!s.isString(f))throw TypeError("name must be a string");if(l&&!s.isObject(l))throw TypeError("options must be an object");this.options=l,this.parsedOptions=null,this.name=f,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(r.prototype,{root:{get:function(){for(var f=this;f.parent!==null;)f=f.parent;return f}},fullName:{get:function(){for(var f=[this.name],l=this.parent;l;)f.unshift(l.name),l=l.parent;return f.join(".")}}}),r.prototype.toJSON=function(){throw Error()},r.prototype.onAdd=function(l){this.parent&&this.parent!==l&&this.parent.remove(this),this.parent=l,this.resolved=!1;var i=l.root;i instanceof e&&i._handleAdd(this)},r.prototype.onRemove=function(l){var i=l.root;i instanceof e&&i._handleRemove(this),this.parent=null,this.resolved=!1},r.prototype.resolve=function(){return this.resolved?this:(this.root instanceof e&&(this.resolved=!0),this)},r.prototype.getOption=function(l){if(this.options)return this.options[l]},r.prototype.setOption=function(l,i,t){return(!t||!this.options||this.options[l]===void 0)&&((this.options||(this.options={}))[l]=i),this},r.prototype.setParsedOption=function(l,i,t){this.parsedOptions||(this.parsedOptions=[]);var a=this.parsedOptions;if(t){var o=a.find(function(c){return Object.prototype.hasOwnProperty.call(c,l)});if(o){var u=o[l];s.setProperty(u,t,i)}else o={},o[l]=s.setProperty({},t,i),a.push(o)}else{var d={};d[l]=i,a.push(d)}return this},r.prototype.setOptions=function(l,i){if(l)for(var t=Object.keys(l),a=0;a<t.length;++a)this.setOption(t[a],l[t[a]],i);return this},r.prototype.toString=function(){var l=this.constructor.className,i=this.fullName;return i.length?l+" "+i:l},r._configure=function(f){e=f},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=f;var s=requireObject();((f.prototype=Object.create(s.prototype)).constructor=f).className="Enum";var e=requireNamespace(),r=requireUtil();function f(l,i,t,a,o,u){if(s.call(this,l,t),i&&typeof i!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=a,this.comments=o||{},this.valuesOptions=u,this.reserved=void 0,i)for(var d=Object.keys(i),c=0;c<d.length;++c)typeof i[d[c]]=="number"&&(this.valuesById[this.values[d[c]]=i[d[c]]]=d[c])}return f.fromJSON=function(i,t){var a=new f(i,t.values,t.options,t.comment,t.comments);return a.reserved=t.reserved,a},f.prototype.toJSON=function(i){var t=i?!!i.keepComments:!1;return r.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},f.prototype.add=function(i,t,a,o){if(!r.isString(i))throw TypeError("name must be a string");if(!r.isInteger(t))throw TypeError("id must be an integer");if(this.values[i]!==void 0)throw Error("duplicate name '"+i+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(i))throw Error("name '"+i+"' is reserved in "+this);if(this.valuesById[t]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+t+" in "+this);this.values[i]=t}else this.valuesById[this.values[i]=t]=i;return o&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[i]=o||null),this.comments[i]=a||null,this},f.prototype.remove=function(i){if(!r.isString(i))throw TypeError("name must be a string");var t=this.values[i];if(t==null)throw Error("name '"+i+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[i],delete this.comments[i],this.valuesOptions&&delete this.valuesOptions[i],this},f.prototype.isReservedId=function(i){return e.isReservedId(this.reserved,i)},f.prototype.isReservedName=function(i){return e.isReservedName(this.reserved,i)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=l;var s=require_enum(),e=requireTypes(),r=requireUtil();function f(i,t,a,o){return t.resolvedType.group?i("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",a,o,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):i("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",a,o,(t.id<<3|2)>>>0)}function l(i){for(var t=r.codegen(["m","w"],i.name+"$encode")("if(!w)")("w=Writer.create()"),a,o,u=i.fieldsArray.slice().sort(r.compareFieldsById),a=0;a<u.length;++a){var d=u[a].resolve(),c=i._fieldsArray.indexOf(d),p=d.resolvedType instanceof s?"int32":d.type,h=e.basic[p];o="m"+r.safeProp(d.name),d.map?(t("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",o,d.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",o)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(d.id<<3|2)>>>0,8|e.mapKey[d.keyType],d.keyType),h===void 0?t("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,o):t(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,p,o),t("}")("}")):d.repeated?(t("if(%s!=null&&%s.length){",o,o),d.packed&&e.packed[p]!==void 0?t("w.uint32(%i).fork()",(d.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",o)("w.%s(%s[i])",p,o)("w.ldelim()"):(t("for(var i=0;i<%s.length;++i)",o),h===void 0?f(t,d,c,o+"[i]"):t("w.uint32(%i).%s(%s[i])",(d.id<<3|h)>>>0,p,o)),t("}")):(d.optional&&t("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",o,d.name),h===void 0?f(t,d,c,o):t("w.uint32(%i).%s(%s)",(d.id<<3|h)>>>0,p,o))}return t("return w")}return encoder_1}var protobuf$1=indexLight.exports=indexMinimal;protobuf$1.build="light";function load(s,e,r){return typeof e=="function"?(r=e,e=new protobuf$1.Root):e||(e=new protobuf$1.Root),e.load(s,r)}protobuf$1.load=load;function loadSync(s,e){return e||(e=new protobuf$1.Root),e.loadSync(s)}protobuf$1.loadSync=loadSync;protobuf$1.encoder=requireEncoder();protobuf$1.decoder=requireDecoder();protobuf$1.verifier=requireVerifier();protobuf$1.converter=requireConverter();protobuf$1.ReflectionObject=requireObject();protobuf$1.Namespace=requireNamespace();protobuf$1.Root=requireRoot();protobuf$1.Enum=require_enum();protobuf$1.Type=requireType();protobuf$1.Field=requireField();protobuf$1.OneOf=requireOneof();protobuf$1.MapField=requireMapfield();protobuf$1.Service=requireService();protobuf$1.Method=requireMethod();protobuf$1.Message=message;protobuf$1.wrappers=wrappers;protobuf$1.types=requireTypes();protobuf$1.util=requireUtil();protobuf$1.ReflectionObject._configure(protobuf$1.Root);protobuf$1.Namespace._configure(protobuf$1.Type,protobuf$1.Service,protobuf$1.Enum);protobuf$1.Root._configure(protobuf$1.Type);protobuf$1.Field._configure(protobuf$1.Type);var indexLightExports=indexLight.exports,tokenize_1=tokenize$1,delimRe=/[\s{}=;:[\],'"()<>]/g,stringDoubleRe=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,stringSingleRe=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,setCommentRe=/^ *[*/]+ */,setCommentAltRe=/^\s*\*?\/*/,setCommentSplitRe=/\n/g,whitespaceRe=/\s/,unescapeRe=/\\(.?)/g,unescapeMap={0:"\0",r:"\r",n:`
`,t:"	"};function unescape$1(s){return s.replace(unescapeRe,function(e,r){switch(r){case"\\":case"":return r;default:return unescapeMap[r]||""}})}tokenize$1.unescape=unescape$1;function tokenize$1(s,e){s=s.toString();var r=0,f=s.length,l=1,i=0,t={},a=[],o=null;function u(b){return Error("illegal "+b+" (line "+l+")")}function d(){var b=o==="'"?stringSingleRe:stringDoubleRe;b.lastIndex=r-1;var O=b.exec(s);if(!O)throw u("string");return r=b.lastIndex,x(o),o=null,unescape$1(O[1])}function c(b){return s.charAt(b)}function p(b,O,S){var E={type:s.charAt(b++),lineEmpty:!1,leading:S},C;e?C=2:C=3;var q=b-C,T;do if(--q<0||(T=s.charAt(q))===`
`){E.lineEmpty=!0;break}while(T===" "||T==="	");for(var B=s.substring(b,O).split(setCommentSplitRe),F=0;F<B.length;++F)B[F]=B[F].replace(e?setCommentAltRe:setCommentRe,"").trim();E.text=B.join(`
`).trim(),t[l]=E,i=l}function h(b){var O=y(b),S=s.substring(b,O),E=/^\s*\/\//.test(S);return E}function y(b){for(var O=b;O<f&&c(O)!==`
`;)O++;return O}function v(){if(a.length>0)return a.shift();if(o)return d();var b,O,S,E,C,q=r===0;do{if(r===f)return null;for(b=!1;whitespaceRe.test(S=c(r));)if(S===`
`&&(q=!0,++l),++r===f)return null;if(c(r)==="/"){if(++r===f)throw u("comment");if(c(r)==="/")if(e){if(E=r,C=!1,h(r-1)){C=!0;do if(r=y(r),r===f||(r++,!q))break;while(h(r))}else r=Math.min(f,y(r)+1);C&&(p(E,r,q),q=!0),l++,b=!0}else{for(C=c(E=r+1)==="/";c(++r)!==`
`;)if(r===f)return null;++r,C&&(p(E,r-1,q),q=!0),++l,b=!0}else if((S=c(r))==="*"){E=r+1,C=e||c(E)==="*";do{if(S===`
`&&++l,++r===f)throw u("comment");O=S,S=c(r)}while(O!=="*"||S!=="/");++r,C&&(p(E,r-2,q),q=!0),b=!0}else return"/"}}while(b);var T=r;delimRe.lastIndex=0;var B=delimRe.test(c(T++));if(!B)for(;T<f&&!delimRe.test(c(T));)++T;var F=s.substring(r,r=T);return(F==='"'||F==="'")&&(o=F),F}function x(b){a.push(b)}function w(){if(!a.length){var b=v();if(b===null)return null;x(b)}return a[0]}function m(b,O){var S=w(),E=S===b;if(E)return v(),!0;if(!O)throw u("token '"+S+"', '"+b+"' expected");return!1}function $(b){var O=null,S;return b===void 0?(S=t[l-1],delete t[l-1],S&&(e||S.type==="*"||S.lineEmpty)&&(O=S.leading?S.text:null)):(i<b&&w(),S=t[b],delete t[b],S&&!S.lineEmpty&&(e||S.type==="/")&&(O=S.leading?null:S.text)),O}return Object.defineProperty({next:v,peek:w,push:x,skip:m,cmnt:$},"line",{get:function(){return l}})}var parse_1=parse;parse.filename=null;parse.defaults={keepCase:!1};var tokenize=tokenize_1,Root=requireRoot(),Type=requireType(),Field=requireField(),MapField=requireMapfield(),OneOf=requireOneof(),Enum=require_enum(),Service=requireService(),Method=requireMethod(),types=requireTypes(),util=requireUtil(),base10Re=/^[1-9][0-9]*$/,base10NegRe=/^-?[1-9][0-9]*$/,base16Re=/^0[x][0-9a-fA-F]+$/,base16NegRe=/^-?0[x][0-9a-fA-F]+$/,base8Re=/^0[0-7]+$/,base8NegRe=/^-?0[0-7]+$/,numberRe=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,nameRe=/^[a-zA-Z_][a-zA-Z_0-9]*$/,typeRefRe=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,fqTypeRefRe=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function parse(s,e,r){e instanceof Root||(r=e,e=new Root),r||(r=parse.defaults);var f=r.preferTrailingComment||!1,l=tokenize(s,r.alternateCommentMode||!1),i=l.next,t=l.push,a=l.peek,o=l.skip,u=l.cmnt,d=!0,c,p,h,y,v=!1,x=e,w=r.keepCase?function(g){return g}:util.camelCase;function m(g,_,R){var k=parse.filename;return R||(parse.filename=null),Error("illegal "+(_||"token")+" '"+g+"' ("+(k?k+", ":"")+"line "+l.line+")")}function $(){var g=[],_;do{if((_=i())!=='"'&&_!=="'")throw m(_);g.push(i()),o(_),_=a()}while(_==='"'||_==="'");return g.join("")}function b(g){var _=i();switch(_){case"'":case'"':return t(_),$();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return S(_,!0)}catch{if(g&&typeRefRe.test(_))return _;throw m(_,"value")}}function O(g,_){var R,k;do _&&((R=a())==='"'||R==="'")?g.push($()):g.push([k=E(i()),o("to",!0)?E(i()):k]);while(o(",",!0));o(";")}function S(g,_){var R=1;switch(g.charAt(0)==="-"&&(R=-1,g=g.substring(1)),g){case"inf":case"INF":case"Inf":return R*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(base10Re.test(g))return R*parseInt(g,10);if(base16Re.test(g))return R*parseInt(g,16);if(base8Re.test(g))return R*parseInt(g,8);if(numberRe.test(g))return R*parseFloat(g);throw m(g,"number",_)}function E(g,_){switch(g){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!_&&g.charAt(0)==="-")throw m(g,"id");if(base10NegRe.test(g))return parseInt(g,10);if(base16NegRe.test(g))return parseInt(g,16);if(base8NegRe.test(g))return parseInt(g,8);throw m(g,"id")}function C(){if(c!==void 0)throw m("package");if(c=i(),!typeRefRe.test(c))throw m(c,"name");x=x.define(c),o(";")}function q(){var g=a(),_;switch(g){case"weak":_=h||(h=[]),i();break;case"public":i();default:_=p||(p=[]);break}g=$(),o(";"),_.push(g)}function T(){if(o("="),y=$(),v=y==="proto3",!v&&y!=="proto2")throw m(y,"syntax");o(";")}function B(g,_){switch(_){case"option":return H(g,_),o(";"),!0;case"message":return V(g,_),!0;case"enum":return Z(g,_),!0;case"service":return I(g,_),!0;case"extend":return W(g,_),!0}return!1}function F(g,_,R){var k=l.line;if(g&&(typeof g.comment!="string"&&(g.comment=u()),g.filename=parse.filename),o("{",!0)){for(var A;(A=i())!=="}";)_(A);o(";",!0)}else R&&R(),o(";"),g&&(typeof g.comment!="string"||f)&&(g.comment=u(k)||g.comment)}function V(g,_){if(!nameRe.test(_=i()))throw m(_,"type name");var R=new Type(_);F(R,function(A){if(!B(R,A))switch(A){case"map":te(R);break;case"required":case"repeated":U(R,A);break;case"optional":v?U(R,"proto3_optional"):U(R,"optional");break;case"oneof":re(R,A);break;case"extensions":O(R.extensions||(R.extensions=[]));break;case"reserved":O(R.reserved||(R.reserved=[]),!0);break;default:if(!v||!typeRefRe.test(A))throw m(A);t(A),U(R,"optional");break}}),g.add(R)}function U(g,_,R){var k=i();if(k==="group"){ee(g,_);return}for(;k.endsWith(".")||a().startsWith(".");)k+=i();if(!typeRefRe.test(k))throw m(k,"type");var A=i();if(!nameRe.test(A))throw m(A,"name");A=w(A),o("=");var N=new Field(A,E(i()),k,_,R);if(F(N,function(z){if(z==="option")H(N,z),o(";");else throw m(z)},function(){M(N)}),_==="proto3_optional"){var J=new OneOf("_"+A);N.setOption("proto3_optional",!0),J.add(N),g.add(J)}else g.add(N);!v&&N.repeated&&(types.packed[k]!==void 0||types.basic[k]===void 0)&&N.setOption("packed",!1,!0)}function ee(g,_){var R=i();if(!nameRe.test(R))throw m(R,"name");var k=util.lcFirst(R);R===k&&(R=util.ucFirst(R)),o("=");var A=E(i()),N=new Type(R);N.group=!0;var J=new Field(k,A,R,_);J.filename=parse.filename,F(N,function(z){switch(z){case"option":H(N,z),o(";");break;case"required":case"repeated":U(N,z);break;case"optional":v?U(N,"proto3_optional"):U(N,"optional");break;case"message":V(N,z);break;case"enum":Z(N,z);break;default:throw m(z)}}),g.add(N).add(J)}function te(g){o("<");var _=i();if(types.mapKey[_]===void 0)throw m(_,"type");o(",");var R=i();if(!typeRefRe.test(R))throw m(R,"type");o(">");var k=i();if(!nameRe.test(k))throw m(k,"name");o("=");var A=new MapField(w(k),E(i()),_,R);F(A,function(J){if(J==="option")H(A,J),o(";");else throw m(J)},function(){M(A)}),g.add(A)}function re(g,_){if(!nameRe.test(_=i()))throw m(_,"name");var R=new OneOf(w(_));F(R,function(A){A==="option"?(H(R,A),o(";")):(t(A),U(R,"optional"))}),g.add(R)}function Z(g,_){if(!nameRe.test(_=i()))throw m(_,"name");var R=new Enum(_);F(R,function(A){switch(A){case"option":H(R,A),o(";");break;case"reserved":O(R.reserved||(R.reserved=[]),!0);break;default:Y(R,A)}}),g.add(R)}function Y(g,_){if(!nameRe.test(_))throw m(_,"name");o("=");var R=E(i(),!0),k={options:void 0};k.setOption=function(A,N){this.options===void 0&&(this.options={}),this.options[A]=N},F(k,function(N){if(N==="option")H(k,N),o(";");else throw m(N)},function(){M(k)}),g.add(_,R,k.comment,k.options)}function H(g,_){var R=o("(",!0);if(!typeRefRe.test(_=i()))throw m(_,"name");var k=_,A=k,N;R&&(o(")"),k="("+k+")",A=k,_=a(),fqTypeRefRe.test(_)&&(N=_.slice(1),k+=_,i())),o("=");var J=X(g,k);L(g,A,J,N)}function X(g,_){if(o("{",!0)){for(var R={};!o("}",!0);){if(!nameRe.test(j=i()))throw m(j,"name");if(j===null)throw m(j,"end of input");var k,A=j;if(o(":",!0),a()==="{")k=X(g,_+"."+j);else if(a()==="["){k=[];var N;if(o("[",!0)){do N=b(!0),k.push(N);while(o(",",!0));o("]"),typeof N<"u"&&P(g,_+"."+j,N)}}else k=b(!0),P(g,_+"."+j,k);var J=R[A];J&&(k=[].concat(J).concat(k)),R[A]=k,o(",",!0),o(";",!0)}return R}var G=b(!0);return P(g,_,G),G}function P(g,_,R){g.setOption&&g.setOption(_,R)}function L(g,_,R,k){g.setParsedOption&&g.setParsedOption(_,R,k)}function M(g){if(o("[",!0)){do H(g,"option");while(o(",",!0));o("]")}return g}function I(g,_){if(!nameRe.test(_=i()))throw m(_,"service name");var R=new Service(_);F(R,function(A){if(!B(R,A))if(A==="rpc")D(R,A);else throw m(A)}),g.add(R)}function D(g,_){var R=u(),k=_;if(!nameRe.test(_=i()))throw m(_,"name");var A=_,N,J,G,z;if(o("("),o("stream",!0)&&(J=!0),!typeRefRe.test(_=i())||(N=_,o(")"),o("returns"),o("("),o("stream",!0)&&(z=!0),!typeRefRe.test(_=i())))throw m(_);G=_,o(")");var K=new Method(A,k,N,G,J,z);K.comment=R,F(K,function(Q){if(Q==="option")H(K,Q),o(";");else throw m(Q)}),g.add(K)}function W(g,_){if(!typeRefRe.test(_=i()))throw m(_,"reference");var R=_;F(null,function(A){switch(A){case"required":case"repeated":U(g,A,R);break;case"optional":v?U(g,"proto3_optional",R):U(g,"optional",R);break;default:if(!v||!typeRefRe.test(A))throw m(A);t(A),U(g,"optional",R);break}})}for(var j;(j=i())!==null;)switch(j){case"package":if(!d)throw m(j);C();break;case"import":if(!d)throw m(j);q();break;case"syntax":if(!d)throw m(j);T();break;case"option":H(x,j),o(";");break;default:if(B(x,j)){d=!1;continue}throw m(j)}return parse.filename=null,{package:c,imports:p,weakImports:h,syntax:y,root:e}}var common_1=common,commonRe=/\/|\./;function common(s,e){commonRe.test(s)||(s="google/protobuf/"+s+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),common[s]=e}common("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var timeType;common("duration",{Duration:timeType={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}});common("timestamp",{Timestamp:timeType});common("empty",{Empty:{fields:{}}});common("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}});common("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}});common("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}});common.get=function s(e){return common[e]||null};var protobuf=src.exports=indexLightExports;protobuf.build="full";protobuf.tokenize=tokenize_1;protobuf.parse=parse_1;protobuf.common=common_1;protobuf.Root._configure(protobuf.Type,protobuf.parse,protobuf.common);var srcExports=src.exports,protobufjs=srcExports;const protobufjs$1=getDefaultExportFromCjs(protobufjs);function create_if_block$1(s){let e;return{c(){e=element("span"),e.textContent="Invalid Protobuf",attr(e,"class","rightcorner warning")},m(r,f){insert(r,e,f)},d(r){r&&detach(e)}}}function create_fragment$1(s){let e,r,f,l,i,t,a,o,u,d,c,p,h,y=s[2]&&create_if_block$1();return{c(){e=element("div"),r=element("div"),f=element("h3"),f.textContent="Protocol buffer",l=space(),i=element("textarea"),t=space(),y&&y.c(),a=space(),o=element("div"),u=element("div"),u.innerHTML="",d=space(),c=element("textarea"),attr(i,"name",""),attr(r,"class","col"),attr(u,"class","tool-bar"),set_style(u,"height","40px"),attr(c,"name",""),attr(c,"id","typescript"),attr(o,"class","col"),attr(e,"id","container")},m(v,x){insert(v,e,x),append(e,r),append(r,f),append(r,l),append(r,i),set_input_value(i,s[0]),append(r,t),y&&y.m(r,null),append(e,a),append(e,o),append(o,u),append(o,d),append(o,c),set_input_value(c,s[1]),p||(h=[listen(i,"input",s[4]),listen(i,"input",s[3]),listen(c,"input",s[5])],p=!0)},p(v,[x]){x&1&&set_input_value(i,v[0]),v[2]?y||(y=create_if_block$1(),y.c(),y.m(r,null)):y&&(y.d(1),y=null),x&2&&set_input_value(c,v[1])},i:noop$2,o:noop$2,d(v){v&&detach(e),y&&y.d(),p=!1,run_all(h)}}}function instance$1(s,e,r){let f=`
syntax = "proto3";

service MyService {
    rpc MyMethod (MyRequest) returns (MyResponse);
}

message MyRequest {
    string path = 1;
}

message MyResponse {
    int32 status = 1;
}
  `,l="",i=!1;function t(){const u=protobufjs$1.parse(f,{alternateCommentMode:!0,preferTrailingComment:!0,keepCase:!0});r(1,l=JSON.stringify(u.root,null,2)),r(2,i=!1)}onMount(()=>{window.onerror=()=>{r(2,i=!0)},t()});function a(){f=this.value,r(0,f)}function o(){l=this.value,r(1,l)}return[f,l,i,t,a,o]}class Ast extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{})}}const main_svelte_svelte_type_style_lang="";function create_else_block(s){let e,r;return e=new Pages({}),{c(){create_component(e.$$.fragment)},m(f,l){mount_component(e,f,l),r=!0},i(f){r||(transition_in(e.$$.fragment,f),r=!0)},o(f){transition_out(e.$$.fragment,f),r=!1},d(f){destroy_component(e,f)}}}function create_if_block_1(s){let e,r;return e=new Ast({}),{c(){create_component(e.$$.fragment)},m(f,l){mount_component(e,f,l),r=!0},i(f){r||(transition_in(e.$$.fragment,f),r=!0)},o(f){transition_out(e.$$.fragment,f),r=!1},d(f){destroy_component(e,f)}}}function create_if_block(s){let e,r;return e=new Mock({}),{c(){create_component(e.$$.fragment)},m(f,l){mount_component(e,f,l),r=!0},i(f){r||(transition_in(e.$$.fragment,f),r=!0)},o(f){transition_out(e.$$.fragment,f),r=!1},d(f){destroy_component(e,f)}}}function create_fragment(s){let e,r,f,l,i,t;e=new Nav_bar({props:{current:s[0]}}),e.$on("change",s[1]);const a=[create_if_block,create_if_block_1,create_else_block],o=[];function u(d,c){return d[0]===PAGE_HASH.MOCK_PAGE?0:d[0]===PAGE_HASH.AST_PAGE?1:2}return l=u(s),i=o[l]=a[l](s),{c(){create_component(e.$$.fragment),r=space(),f=element("div"),i.c()},m(d,c){mount_component(e,d,c),insert(d,r,c),insert(d,f,c),o[l].m(f,null),t=!0},p(d,[c]){const p={};c&1&&(p.current=d[0]),e.$set(p);let h=l;l=u(d),l!==h&&(group_outros(),transition_out(o[h],1,1,()=>{o[h]=null}),check_outros(),i=o[l],i||(i=o[l]=a[l](d),i.c()),transition_in(i,1),i.m(f,null))},i(d){t||(transition_in(e.$$.fragment,d),transition_in(i),t=!0)},o(d){transition_out(e.$$.fragment,d),transition_out(i),t=!1},d(d){d&&(detach(r),detach(f)),destroy_component(e,d),o[l].d()}}}function instance(s,e,r){let f=PAGE_HASH.INDEX_PAGE;function l(i){r(0,f=i.detail.route||0)}return[f,l]}class Main extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{})}}new Main({target:document.getElementById("app")});</script><style>:root{--black:#111;--white:#eee;--blue:#1890ff;--gray:#f0f1f2;--dark-gray:#5c5c5c}.dark{background-color:var(--black);color:var(--white)}body,html{font-family:Sans-Serif;margin:0}h1,h2{margin:16px 8px}h3{margin:5px 8px;line-height:30px}.col{height:100%;width:calc(50% - 16px);float:left;margin:0 8px;display:flex;flex-direction:column;position:relative}.editor{height:100%;width:calc(40% - 16px);float:left;margin:0 8px;display:flex;flex-direction:column;position:relative}pre,textarea{border:1px solid var(--gray);border-radius:4px}.dark textarea,pre{background-color:var(--black);color:var(--white)}#container{height:calc(100vh - 83px);padding-top:20px}.error{color:red;display:none}.selector{width:20%;float:left;height:calc(100vh - 83px);overflow:scroll}.header{height:63px;margin:auto;padding:0 60px;box-shadow:0 2px 8px var(--gray)}.dark .header{box-shadow:0 2px 8px var(--dark-gray)}.header a{font-size:18px;line-height:63px;height:63px;padding:10px;text-decoration:none;color:var(--black)}.dark .header a{color:var(--white)}.header a:hover{color:var(--blue)}.header .active{color:var(--blue);border-bottom:3px solid var(--blue)}.method-item{color:var(--blue);border:2px solid var(--blue);border-radius:8px;padding:5px;margin:5px;cursor:pointer;list-style-type:none}.method-item:hover{background-color:var(--blue);color:var(--white)}.github-link{float:right;padding:0!important}.type-selector{height:30px;margin:5px 0;width:150px}.tool-bar{display:flex;flex-direction:row}textarea{flex:1}.rightcorner{position:absolute;right:0;top:40px;border-bottom-left-radius:10px;padding:5px 10px}.button{color:var(--blue);border-left:2px solid var(--blue);border-bottom:2px solid var(--blue);cursor:pointer}.warning{color:red;border-left:2px solid red;border-bottom:2px solid red}</style></head><body><div id="app"></div></body></html>